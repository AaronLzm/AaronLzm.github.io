import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,a as l,f as e,w as i,r,b as c,g as a,d as s}from"./app-ZrqzkeZK.js";const o={};function h(g,n){const t=r("think");return c(),p("div",null,[l(t,null,{default:i(()=>[...n[0]||(n[0]=[a(" 我们正在处理《因果推断：What If》第7章“混杂”的内容。本章主要讨论混杂（confounding）的概念、结构、调整方法以及相关的因果图表示。由于我们无法直接查看图片内容，我们将基于文本描述和上下文来总结技术重点和细节要点。 ",-1),s("p",null,[a("第7章分为多个子章节："),s("br"),a(" 7.1 混杂的结构"),s("br"),a(" 7.2 混杂与可交换性"),s("br"),a(" 7.3 混杂与后门准则"),s("br"),a(" 7.4 混杂与混杂因子"),s("br"),a(" 7.5 单世界干预图（SWIGs）"),s("br"),a(" 7.6 混杂调整")],-1),s("p",null,"我们将按照章节结构逐步总结，提炼技术重点和细节要点。",-1),s("p",null,"注意：由于文本中多次提到因果图（如Figure 7.1, 7.2等），但无法查看图片，我们将根据文本描述来理解图的结构。文本中已经对图的结构进行了详细说明，因此我们可以基于这些描述进行总结。",-1),s("p",null,"开始总结：",-1)])]),_:1}),n[1]||(n[1]=e(' ### 第7章 混杂（CONFOUNDING） <h4 id="_7-1-混杂的结构" tabindex="-1"><a class="header-anchor" href="#_7-1-混杂的结构"><span>7.1 混杂的结构</span></a></h4><p><strong>技术重点（Technical Points）</strong>：</p><ul><li><strong>核心理论</strong>：混杂是观察性研究中因治疗（A）和结局（Y）存在共同原因（L或U）导致的偏倚，表现为非因果路径（后门路径）开放，使关联不等于因果效应。</li><li><strong>后门路径定义</strong>：非因果路径中箭头指向治疗（A）的路径（如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>←</mo><mi>L</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">A \\leftarrow L \\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>），即使移除所有从A出发的箭头仍存在。</li><li><strong>混杂的数学表达</strong>：当存在共同原因L时，关联风险比（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\\frac{\\Pr[Y=1|A=1]}{\\Pr[Y=1|A=0]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">P</span><span class="mtight">r</span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="mrel mtight">=</span><span class="mord mtight">1∣</span><span class="mord mathnormal mtight">A</span><span class="mrel mtight">=</span><span class="mord mtight">0</span><span class="mclose mtight">]</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">P</span><span class="mtight">r</span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="mrel mtight">=</span><span class="mord mtight">1∣</span><span class="mord mathnormal mtight">A</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>）不等于因果风险比（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\\frac{\\Pr[Y^{a=1}=1]}{\\Pr[Y^{a=0}=1]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.6289em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1089em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">P</span><span class="mtight">r</span></span><span class="mopen mtight">[</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">P</span><span class="mtight">r</span></span><span class="mopen mtight">[</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>）。</li><li><strong>应用场景</strong>：常见于职业暴露（如消防员健康工人偏倚）、临床决策（如适应症混杂）、生活方式（如吸烟与运动）、遗传（如连锁不平衡）等观察性研究。</li></ul><p><strong>细节要点（Fine Points）</strong>：</p><ul><li><strong>案例分析</strong>： <ul><li>消防员研究：体能（L）同时影响成为消防员（A）和死亡风险（Y），导致健康工人偏倚。</li><li>阿司匹林处方：心脏病（L）增加阿司匹林（A）使用和卒中（Y）风险，形成混杂（适应症偏倚）。</li></ul></li><li><strong>辅助信息</strong>：混杂关联是真实存在的（非虚构），但不可解释为因果效应（Yule, 1903；Pearson等, 1899）。</li><li><strong>相关背景</strong>：混杂结构通过因果图（DAG）表示（如Figure 7.1），其中共同原因L打开后门路径 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>←</mo><mi>L</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">A \\leftarrow L \\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>。</li></ul><hr><h4 id="_7-2-混杂与可交换性" tabindex="-1"><a class="header-anchor" href="#_7-2-混杂与可交换性"><span>7.2 混杂与可交换性</span></a></h4><p><strong>技术重点</strong>：</p><ul><li><strong>核心理论</strong>：混杂可视为可交换性（exchangeability）的缺失。 <ul><li>边际可交换性（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mi>a</mi></msup><mo>⊥</mo><mtext> ⁣</mtext><mtext> ⁣</mtext><mtext> ⁣</mtext><mo>⊥</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">Y^a \\perp\\!\\!\\!\\perp A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊥</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:-0.1667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>）：无混杂时成立（如随机实验），因果效应可直接通过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mi>Y</mi><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo>−</mo><mi>E</mi><mo stretchy="false">[</mo><mi>Y</mi><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">E[Y|A=1] - E[Y|A=0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span></span></span></span> 计算。</li><li>条件可交换性（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mi>a</mi></msup><mo>⊥</mo><mtext> ⁣</mtext><mtext> ⁣</mtext><mtext> ⁣</mtext><mo>⊥</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi>L</mi></mrow><annotation encoding="application/x-tex">Y^a \\perp\\!\\!\\!\\perp A | L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊥</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:-0.1667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord mathnormal">L</span></span></span></span>）：存在混杂时需调整L，通过标准化或IP加权计算因果效应（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo stretchy="false">]</mo><mo>−</mo><mi>E</mi><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo stretchy="false">]</mo><mo>=</mo><msub><mo>∑</mo><mi>l</mi></msub><mrow><mo fence="true">(</mo><mi>E</mi><mo stretchy="false">[</mo><mi>Y</mi><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo>−</mo><mi>E</mi><mo stretchy="false">[</mo><mi>Y</mi><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo fence="true">)</mo></mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">E[Y^{a=1}] - E[Y^{a=0}] = \\sum_l \\left( E[Y|A=1,L=l] - E[Y|A=0,L=l] \\right) \\Pr[L=l]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1864em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span></span></span></span>）。</li></ul></li><li><strong>后门准则</strong>：若L满足以下条件，则条件可交换性成立： <ol><li>阻断所有A到Y的后门路径；</li><li>L非A的后代；</li><li>在FFRCISTG模型和忠实性假设下成立（Technical Point 7.1）。</li></ol></li></ul><p><strong>细节要点</strong>：</p><ul><li><strong>案例分析</strong>：心脏移植研究中，疾病严重程度（L）是A和Y的共同原因，需调整L以实现条件可交换性。</li><li><strong>辅助信息</strong>：后门准则不量化混杂方向/大小（需敏感性分析，见Fine Point 7.1）。</li><li><strong>相关背景</strong>：无混杂等价于无共同原因（Figure 6.2）；有混杂但无未测混杂时，L阻断后门路径（Figure 7.1）。</li></ul><hr><h4 id="_7-3-混杂与后门准则" tabindex="-1"><a class="header-anchor" href="#_7-3-混杂与后门准则"><span>7.3 混杂与后门准则</span></a></h4><p><strong>技术重点</strong>：</p><ul><li><strong>关键公式</strong>：后门准则的应用： <ul><li>Figure 7.1：调整L可阻断 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>←</mo><mi>L</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">A \\leftarrow L \\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>。</li><li>Figure 7.2-7.3：未测U导致混杂，但调整L可阻断路径（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>←</mo><mi>L</mi><mo>←</mo><mi>U</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">A \\leftarrow L \\leftarrow U \\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>）。</li><li>Figure 7.4：无混杂（无共同原因），L是碰撞子（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>←</mo><msub><mi>U</mi><mn>2</mn></msub><mo>→</mo><mi>L</mi><mo>←</mo><msub><mi>U</mi><mn>1</mn></msub><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">A \\leftarrow U_2 \\rightarrow L \\leftarrow U_1 \\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>），调整L引入选择偏倚。</li></ul></li><li><strong>混杂因子定义</strong>：若数据（A,Y）不足以识别因果效应，则L是混杂因子（需调整）；否则是非混杂因子（如Figure 7.4）。</li></ul><p><strong>细节要点</strong>：</p><ul><li><strong>M偏倚（Figure 7.4）</strong>：调整碰撞子L打开后门路径，导致选择偏倚（Greenland等, 1999）。</li><li><strong>混杂方向预测</strong>：符号因果图可预测偏倚方向（VanderWeele等, 2008），但需敏感性分析量化大小（Rosenbaum, 2005）。</li><li><strong>案例分析</strong>：图7.5中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">L \\rightarrow A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 打开混杂路径，调整L同时引入选择偏倚，需测量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">L_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">L_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（Fine Point 7.2）。</li></ul><hr><h4 id="_7-4-混杂与混杂因子" tabindex="-1"><a class="header-anchor" href="#_7-4-混杂与混杂因子"><span>7.4 混杂与混杂因子</span></a></h4><p><strong>技术重点</strong>：</p><ul><li><strong>传统方法缺陷</strong>：基于关联的混杂定义（与A和Y关联，且不在因果路径）可能导致错误调整（如Figure 7.4调整L引入偏倚）。</li><li><strong>结构方法</strong>：基于因果图的后门准则明确： <ul><li>混杂是绝对概念（存在共同原因）；</li><li>混杂因子是相对的（依赖已测变量集，如Figure 7.2中L是混杂因子，但若U已测则否。</li></ul></li><li><strong>替代定义</strong>：混杂是“随机化可消除的偏倚”，但依赖分析方法（如Figure 7.4是否调整L）。</li></ul><p><strong>细节要点</strong>：</p><ul><li><strong>代理混杂因子</strong>：未测U的代理变量（如收入L代理社会经济地位U）可部分减少偏倚（Figure 7.8），应优先调整（Fine Point 7.3）。</li><li><strong>相关背景</strong>：结构方法需先验因果知识（DAG），使假设显式且一致（Hernán等, 2002）。</li></ul><hr><h4 id="_7-5-单世界干预图-swigs" tabindex="-1"><a class="header-anchor" href="#_7-5-单世界干预图-swigs"><span>7.5 单世界干预图（SWIGs）</span></a></h4><p><strong>技术重点</strong>：</p><ul><li><strong>核心理论</strong>：SWIG将反事实变量（如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mi>a</mi></msup></mrow><annotation encoding="application/x-tex">Y^a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span>）引入DAG，表示干预世界（A固定为a）。 <ul><li>验证可交换性：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mi>a</mi></msup></mrow><annotation encoding="application/x-tex">Y^a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> 在给定L时d-分离（如Figure 7.9）。</li><li>等价于后门准则：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mi>a</mi></msup><mo>⊥</mo><mtext> ⁣</mtext><mtext> ⁣</mtext><mtext> ⁣</mtext><mo>⊥</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi>L</mi></mrow><annotation encoding="application/x-tex">Y^a \\perp\\!\\!\\!\\perp A | L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊥</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mspace" style="margin-right:-0.1667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord mathnormal">L</span></span></span></span> 当且仅当L阻断所有后门路径且非A后代。</li></ul></li><li><strong>应用</strong>：解释Figure 7.4中边际可交换性成立但条件不成立（调整L打开路径 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mi>a</mi></msup><mo>←</mo><msub><mi>U</mi><mn>1</mn></msub><mo>→</mo><mi>L</mi><mo>←</mo><msub><mi>U</mi><mn>2</mn></msub><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">Y^a \\leftarrow U_1 \\rightarrow L \\leftarrow U_2 \\rightarrow A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>）。</li></ul><p><strong>细节要点</strong>：</p><ul><li><strong>自然治疗值</strong>：干预世界中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>（自然值）继承原始DAG中进入A的箭头，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>（干预值）为常数。</li><li><strong>限制</strong>：混杂因子不能是A的后代（Figure 7.11），但可在A之后（若拓扑独立）。</li></ul><hr><h4 id="_7-6-混杂调整" tabindex="-1"><a class="header-anchor" href="#_7-6-混杂调整"><span>7.6 混杂调整</span></a></h4><p><strong>技术重点</strong>：</p><ul><li><strong>G-方法</strong>：利用条件可交换性： <ul><li>标准化/IP加权：模拟无L→A箭头的伪总体（删除后门路径）。</li><li>G-估计：处理时变混杂的首选（第20章）。</li></ul></li><li><strong>其他方法</strong>： <ul><li>工具变量（第16章）、前后门准则（Technical Point 7.4）、双重差分（Technical Point 7.3）。</li><li>前后门公式：当存在中介M（Figure 7.14），<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mi>a</mi></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><msub><mo>∑</mo><mi>m</mi></msub><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>m</mi><mi mathvariant="normal">∣</mi><mi>a</mi><mo stretchy="false">]</mo><msub><mo>∑</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>m</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">]</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\Pr[Y^a=1] = \\sum_m \\Pr[m|a] \\sum_{a&#39;} \\Pr[Y=1|m,a&#39;] \\Pr[a&#39;]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0017em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal">m</span><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1783em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>。</li></ul></li><li><strong>混杂因子选择</strong>：避免调整A或Y的后代（如Figure 7.11）。</li></ul><p><strong>细节要点</strong>：</p><ul><li><strong>阴性对照</strong>： <ul><li>双重差分：用干预前结局C量化混杂（Figure 7.13），需加性等混杂假设。</li><li>近端因果推断：结合阴性治疗对照Z可识别效应（Miao等, 2018）。</li></ul></li><li><strong>实践建议</strong>：观察性研究中，测量非A后代的L以逼近条件可交换性，但总有未测混杂风险。</li></ul><hr><h3 id="逻辑连贯性说明" tabindex="-1"><a class="header-anchor" href="#逻辑连贯性说明"><span>逻辑连贯性说明</span></a></h3><p>本章延续前文（第6章因果图）的主题，系统探讨混杂的因果图定义、调整方法及与可交换性的联系，并为第8章（选择偏倚）和第9章（测量误差）奠定基础。核心贡献是统一反事实（SWIGs）与图形方法，并批判传统混杂定义的缺陷，强调结构方法的重要性。</p>',39))])}const u=m(o,[["render",h]]),w=JSON.parse(`{"path":"/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528-2nd/Chapter_7.html","title":"Chapter_7","lang":"en-US","frontmatter":{"title":"Chapter_7","category":"Causal inference","tags":["DeepSeek-R1-0528-2nd","response_md"],"description":"### 第7章 混杂（CONFOUNDING） 7.1 混杂的结构 技术重点（Technical Points）： 核心理论：混杂是观察性研究中因治疗（A）和结局（Y）存在共同原因（L或U）导致的偏倚，表现为非因果路径（后门路径）开放，使关联不等于因果效应。 后门路径定义：非因果路径中箭头指向治疗（A）的路径（如 A←L→Y），即使移除所有从A出发的箭...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Chapter_7\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-17T03:19:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aaron L\\",\\"url\\":\\"https://aaronlzm.github.io\\",\\"email\\":\\"lzm_aaron@outlook.com\\"}]}"],["meta",{"property":"og:url","content":"https://aaronlzm.github.io/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528-2nd/Chapter_7.html"}],["meta",{"property":"og:site_name","content":"Aaron's Blog"}],["meta",{"property":"og:title","content":"Chapter_7"}],["meta",{"property":"og:description","content":"### 第7章 混杂（CONFOUNDING） 7.1 混杂的结构 技术重点（Technical Points）： 核心理论：混杂是观察性研究中因治疗（A）和结局（Y）存在共同原因（L或U）导致的偏倚，表现为非因果路径（后门路径）开放，使关联不等于因果效应。 后门路径定义：非因果路径中箭头指向治疗（A）的路径（如 A←L→Y），即使移除所有从A出发的箭..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-09-17T03:19:05.000Z"}],["meta",{"property":"article:tag","content":"response_md"}],["meta",{"property":"article:tag","content":"DeepSeek-R1-0528-2nd"}],["meta",{"property":"article:modified_time","content":"2025-09-17T03:19:05.000Z"}]]},"git":{"createdTime":1758079145000,"updatedTime":1758079145000,"contributors":[{"name":"lizhimou","username":"lizhimou","email":"lizhimou@bytedance.com","commits":1,"url":"https://github.com/lizhimou"}]},"readingTime":{"minutes":6.37,"words":1911},"filePathRelative":"posts/Causal inference/What-if book reading notes/response_md/DeepSeek-R1-0528-2nd/Chapter_7.md","excerpt":"\\n### 第7章 混杂（CONFOUNDING）\\n<h4>7.1 混杂的结构</h4>\\n<p><strong>技术重点（Technical Points）</strong>：</p>\\n<ul>\\n<li><strong>核心理论</strong>：混杂是观察性研究中因治疗（A）和结局（Y）存在共同原因（L或U）导致的偏倚，表现为非因果路径（后门路径）开放，使关联不等于因果效应。</li>\\n<li><strong>后门路径定义</strong>：非因果路径中箭头指向治疗（A）的路径（如 <span v-pre=\\"\\" class=\\"katex\\"><span class=\\"katex-mathml\\"><math xmlns=\\"http://www.w3.org/1998/Math/MathML\\"><semantics><mrow><mi>A</mi><mo>←</mo><mi>L</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\\"application/x-tex\\">A \\\\leftarrow L \\\\rightarrow Y</annotation></semantics></math></span><span class=\\"katex-html\\" aria-hidden=\\"true\\"><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:0.6833em;\\"></span><span class=\\"mord mathnormal\\">A</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span><span class=\\"mrel\\">←</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span></span><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:0.6833em;\\"></span><span class=\\"mord mathnormal\\">L</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span><span class=\\"mrel\\">→</span><span class=\\"mspace\\" style=\\"margin-right:0.2778em;\\"></span></span><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:0.6833em;\\"></span><span class=\\"mord mathnormal\\" style=\\"margin-right:0.22222em;\\">Y</span></span></span></span>），即使移除所有从A出发的箭头仍存在。</li>\\n<li><strong>混杂的数学表达</strong>：当存在共同原因L时，关联风险比（<span v-pre=\\"\\" class=\\"katex\\"><span class=\\"katex-mathml\\"><math xmlns=\\"http://www.w3.org/1998/Math/MathML\\"><semantics><mrow><mfrac><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy=\\"false\\">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant=\\"normal\\">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo stretchy=\\"false\\">]</mo></mrow><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy=\\"false\\">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant=\\"normal\\">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy=\\"false\\">]</mo></mrow></mfrac></mrow><annotation encoding=\\"application/x-tex\\">\\\\frac{\\\\Pr[Y=1|A=1]}{\\\\Pr[Y=1|A=0]}</annotation></semantics></math></span><span class=\\"katex-html\\" aria-hidden=\\"true\\"><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:1.53em;vertical-align:-0.52em;\\"></span><span class=\\"mord\\"><span class=\\"mopen nulldelimiter\\"></span><span class=\\"mfrac\\"><span class=\\"vlist-t vlist-t2\\"><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:1.01em;\\"><span style=\\"top:-2.655em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"sizing reset-size6 size3 mtight\\"><span class=\\"mord mtight\\"><span class=\\"mop mtight\\"><span class=\\"mtight\\">P</span><span class=\\"mtight\\">r</span></span><span class=\\"mopen mtight\\">[</span><span class=\\"mord mathnormal mtight\\" style=\\"margin-right:0.22222em;\\">Y</span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">1∣</span><span class=\\"mord mathnormal mtight\\">A</span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">0</span><span class=\\"mclose mtight\\">]</span></span></span></span><span style=\\"top:-3.23em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"frac-line\\" style=\\"border-bottom-width:0.04em;\\"></span></span><span style=\\"top:-3.485em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"sizing reset-size6 size3 mtight\\"><span class=\\"mord mtight\\"><span class=\\"mop mtight\\"><span class=\\"mtight\\">P</span><span class=\\"mtight\\">r</span></span><span class=\\"mopen mtight\\">[</span><span class=\\"mord mathnormal mtight\\" style=\\"margin-right:0.22222em;\\">Y</span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">1∣</span><span class=\\"mord mathnormal mtight\\">A</span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">1</span><span class=\\"mclose mtight\\">]</span></span></span></span></span><span class=\\"vlist-s\\">​</span></span><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.52em;\\"><span></span></span></span></span></span><span class=\\"mclose nulldelimiter\\"></span></span></span></span></span>）不等于因果风险比（<span v-pre=\\"\\" class=\\"katex\\"><span class=\\"katex-mathml\\"><math xmlns=\\"http://www.w3.org/1998/Math/MathML\\"><semantics><mrow><mfrac><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy=\\"false\\">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy=\\"false\\">]</mo></mrow><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy=\\"false\\">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy=\\"false\\">]</mo></mrow></mfrac></mrow><annotation encoding=\\"application/x-tex\\">\\\\frac{\\\\Pr[Y^{a=1}=1]}{\\\\Pr[Y^{a=0}=1]}</annotation></semantics></math></span><span class=\\"katex-html\\" aria-hidden=\\"true\\"><span class=\\"base\\"><span class=\\"strut\\" style=\\"height:1.6289em;vertical-align:-0.52em;\\"></span><span class=\\"mord\\"><span class=\\"mopen nulldelimiter\\"></span><span class=\\"mfrac\\"><span class=\\"vlist-t vlist-t2\\"><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:1.1089em;\\"><span style=\\"top:-2.655em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"sizing reset-size6 size3 mtight\\"><span class=\\"mord mtight\\"><span class=\\"mop mtight\\"><span class=\\"mtight\\">P</span><span class=\\"mtight\\">r</span></span><span class=\\"mopen mtight\\">[</span><span class=\\"mord mtight\\"><span class=\\"mord mathnormal mtight\\" style=\\"margin-right:0.22222em;\\">Y</span><span class=\\"msupsub\\"><span class=\\"vlist-t\\"><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.7463em;\\"><span style=\\"top:-2.786em;margin-right:0.0714em;\\"><span class=\\"pstrut\\" style=\\"height:2.5em;\\"></span><span class=\\"sizing reset-size3 size1 mtight\\"><span class=\\"mord mtight\\"><span class=\\"mord mathnormal mtight\\">a</span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">0</span></span></span></span></span></span></span></span></span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">1</span><span class=\\"mclose mtight\\">]</span></span></span></span><span style=\\"top:-3.23em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"frac-line\\" style=\\"border-bottom-width:0.04em;\\"></span></span><span style=\\"top:-3.485em;\\"><span class=\\"pstrut\\" style=\\"height:3em;\\"></span><span class=\\"sizing reset-size6 size3 mtight\\"><span class=\\"mord mtight\\"><span class=\\"mop mtight\\"><span class=\\"mtight\\">P</span><span class=\\"mtight\\">r</span></span><span class=\\"mopen mtight\\">[</span><span class=\\"mord mtight\\"><span class=\\"mord mathnormal mtight\\" style=\\"margin-right:0.22222em;\\">Y</span><span class=\\"msupsub\\"><span class=\\"vlist-t\\"><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.8913em;\\"><span style=\\"top:-2.931em;margin-right:0.0714em;\\"><span class=\\"pstrut\\" style=\\"height:2.5em;\\"></span><span class=\\"sizing reset-size3 size1 mtight\\"><span class=\\"mord mtight\\"><span class=\\"mord mathnormal mtight\\">a</span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">1</span></span></span></span></span></span></span></span></span><span class=\\"mrel mtight\\">=</span><span class=\\"mord mtight\\">1</span><span class=\\"mclose mtight\\">]</span></span></span></span></span><span class=\\"vlist-s\\">​</span></span><span class=\\"vlist-r\\"><span class=\\"vlist\\" style=\\"height:0.52em;\\"><span></span></span></span></span></span><span class=\\"mclose nulldelimiter\\"></span></span></span></span></span>）。</li>\\n<li><strong>应用场景</strong>：常见于职业暴露（如消防员健康工人偏倚）、临床决策（如适应症混杂）、生活方式（如吸烟与运动）、遗传（如连锁不平衡）等观察性研究。</li>\\n</ul>","autoDesc":true}`);export{u as comp,w as data};
