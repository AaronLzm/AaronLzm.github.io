import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as r,f as e,w as o,r as p,b as m,g as l,d as s}from"./app-ZrqzkeZK.js";const g={};function u(c,t){const n=p("think");return m(),a("div",null,[r(n,null,{default:o(()=>[...t[0]||(t[0]=[l(" 我们正在处理《因果推断：What If》第6章的内容。这一章主要介绍了因果图（causal diagrams）的基本概念、结构规则以及如何用图形表示因果关系。我们将按照章节结构逐步总结，提炼技术重点和细节要点。 ",-1),s("p",null,"第6章标题：GRAPHICAL REPRESENTATION OF CAUSAL EFFECTS",-1),s("p",null,[l("章节内容概述："),s("br"),l(" 本章介绍了因果图作为表示因果关系的工具，它基于有向无环图（DAGs），用于表示变量间的因果关系。因果图可以帮助研究者明确假设，并推断变量间的关联和独立性。")],-1),s("p",null,[l("结构："),s("br"),l(" 6.1 因果图（Causal diagrams）"),s("br"),l(" 6.2 因果图与边际独立性（Causal diagrams and marginal independence）"),s("br"),l(" 6.3 因果图与条件独立性（Causal diagrams and conditional independence）"),s("br"),l(" 6.4 因果图中的正性和一致性（Positivity and consistency in causal diagrams）"),s("br"),l(" 6.5 偏倚的结构分类（A structural classification of bias）"),s("br"),l(" 6.6 效应修饰的结构（The structure of effect modification）")],-1),s("p",null,"此外，还有多个技术点（Technical Points）和精细点（Fine Points）穿插其中，详细解释了一些概念。",-1),s("p",null,"由于内容较长，我们将分节处理。首先处理6.1节。",-1),s("p",null,"注意：由于我们无法查看图片内容，因此对于图6.1等，我们只能根据文本描述来总结。文本中提到了图6.1包含三个节点（L, A, Y）和三条边（箭头），其中L（疾病严重程度）在时间上先于A（心脏移植），A先于Y（死亡）。箭头表示直接因果效应。",-1),s("p",null,"开始总结：",-1)])]),_:1}),t[1]||(t[1]=e(' ### 第6章：因果效应的图形表示 <h4 id="_6-1-因果图" tabindex="-1"><a class="header-anchor" href="#_6-1-因果图"><span>6.1 因果图</span></a></h4><p><strong>子章节内容</strong><br> 因果图（有向无环图，DAG）用于表示变量间的因果关系。节点代表随机变量（如 (L)、(A)、(Y)），边（箭头）表示直接因果效应。例如，图6.1中：</p><ul><li>(L)（疾病严重程度）→ (A)（心脏移植）→ (Y)（死亡），时间从左向右流动。</li><li>箭头存在表示至少一个个体存在直接因果效应（如 (L \\to A) 表示疾病严重程度影响移植概率）。</li><li>无箭头表示无直接因果效应（如 (A) 和 (Y) 之间无直接箭头时，(A) 对 (Y) 无直接效应）。</li><li>DAG不区分效应方向（有害/保护性）或交互作用。</li></ul><p><strong>技术重点（Technical Points）</strong></p><ul><li><strong>核心理论</strong>： <ul><li>因果DAG需满足： <ol><li>无箭头表示无直接因果效应；</li><li>所有共同原因（即使未测量）均在图中；</li><li>变量是其后代的因。</li></ol></li><li>因果马尔可夫假设：给定直接原因（父节点），变量独立于其非后代。</li></ul></li><li><strong>关键公式</strong>： <ul><li>马尔可夫因子化：<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∏</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>M</mi><mi>f</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><msub><mtext>pa</mtext><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></munderover></mrow><annotation encoding="application/x-tex">f(v) = \\prod_{j=1}^{M f(v_j | \\text{pa}_j)} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.4831em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0693em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span><span style="top:-4.4943em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">pa</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2052em;"><span style="top:-2.2341em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4048em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span></span></span></span></span></p> 其中 (\\text{pa}_j) 是 (V_j) 的父节点。</li></ul></li><li><strong>重要概念</strong>： <ul><li><strong>因果DAG</strong>：编码因果结构，需与数据关联（因果马尔可夫假设）。</li><li><strong>条件随机实验 vs 边际随机实验</strong>： <ul><li>图6.1（含 (L)）表示条件随机实验（(L) 是 (A) 和 (Y) 的共同原因）；</li><li>图6.2（无 (L)）表示边际随机实验（(A) 随机分配）。</li></ul></li></ul></li><li><strong>应用场景</strong>： <ul><li>观察性研究中，图6.1等价于条件可交换性 (Y^a \\perp!!!\\perp A | L)。</li></ul></li></ul><p><strong>细节要点（Fine Points）</strong></p><ul><li><strong>案例分析</strong>： <ul><li>心脏移植研究中，若移植概率依赖疾病严重程度（(L)），则 (L) 必须包含在图中（共同原因）。</li></ul></li><li><strong>辅助信息</strong>： <ul><li>图形方法直观，但需与反事实模型关联（如SWIGs，第7章介绍）。</li></ul></li><li><strong>相关背景</strong>： <ul><li>现代因果图理论源于计算机科学（Pearl 2009; Spirtes等 2000）。</li></ul></li></ul><hr><h4 id="_6-2-因果图与边际独立性" tabindex="-1"><a class="header-anchor" href="#_6-2-因果图与边际独立性"><span>6.2 因果图与边际独立性</span></a></h4><p><strong>子章节内容</strong><br> 因果图可推断变量间的关联：</p><ul><li><strong>关联来源</strong>： <ol><li>直接因果（如 (A \\to Y)）；</li><li>共同原因（如 (A \\leftarrow L \\to Y)）；</li><li>共同效应（如 (A \\to L \\leftarrow Y)，但仅当以 (L) 为条件时关联）。</li></ol></li><li><strong>关键规则</strong>： <ul><li>碰撞点（collider，如 (L)）默认阻断关联路径（如 (A) 和 (Y) 独立）。</li></ul></li></ul><p><strong>技术重点（Technical Points）</strong></p><ul><li><strong>核心理论</strong>： <ul><li>边际关联条件： <ul><li>若 (A) 导致 (Y) 或共享共同原因，则 (A) 和 (Y) 关联；</li><li>否则边际独立（如无路径或仅碰撞点路径）。</li></ul></li></ul></li><li><strong>重要概念</strong>： <ul><li><strong>碰撞点（Collider）</strong>：两箭头指向同一节点（如 (A \\to L \\leftarrow Y)），阻断关联流动。</li></ul></li><li><strong>应用场景</strong>： <ul><li>阿司匹林实验（图6.2）：(A \\to Y) 存在因果，故关联。</li><li>打火机与肺癌（图6.3）：(A) 和 (Y) 无直接因果，但通过吸烟（(L)）关联。</li><li>单倍型与吸烟（图6.4）：(A) 和 (Y) 独立（唯一路径被 (L) 阻断）。</li></ul></li></ul><p><strong>细节要点（Fine Points）</strong></p><ul><li><strong>案例分析</strong>： <ul><li>打火机携带者（(A=1)）更可能吸烟（(L=1)），故与肺癌（(Y)）虚假关联。</li></ul></li><li><strong>辅助信息</strong>： <ul><li>关联流动对称，与因果方向无关。</li></ul></li></ul><hr><h4 id="_6-3-因果图与条件独立性" tabindex="-1"><a class="header-anchor" href="#_6-3-因果图与条件独立性"><span>6.3 因果图与条件独立性</span></a></h4><p><strong>子章节内容</strong><br> 条件独立性通过阻断路径实现：</p><ul><li><strong>阻断规则</strong>： <ul><li>以非碰撞点变量为条件（如 (B) 或 (L)）阻断路径；</li><li>以碰撞点或其后代为条件（如 (L) 或 (C)）打开路径。</li></ul></li></ul><p><strong>技术重点（Technical Points）</strong></p><ul><li><strong>核心理论</strong>： <ul><li><strong>d-分离（d-separation）</strong>： <ul><li>路径阻断条件： <ol><li>含被调节的非碰撞点；</li><li>含未调节（且无调节后代）的碰撞点。</li></ol></li><li>若所有路径阻断，则变量条件独立。</li></ul></li></ul></li><li><strong>关键公式</strong>： <ul><li>条件独立性：(A \\perp!!!\\perp Y | B)（图6.5），(A \\perp!!!\\perp Y | L)（图6.6）。</li></ul></li><li><strong>应用场景</strong>： <ul><li>分层分析：以共同原因 (L) 为条件可消除混杂（图6.6）。</li></ul></li></ul><p><strong>细节要点（Fine Points）</strong></p><ul><li><strong>案例分析</strong>： <ul><li>阿司匹林研究（图6.5）：以血小板聚集 (B) 为条件，(A) 和 (Y) 独立（效应仅通过 (B)）。</li><li>单倍型研究（图6.7）：以心脏病 (L) 为条件，(A) 和 (Y) 虚假关联（碰撞点被打开）。</li></ul></li><li><strong>辅助信息</strong>： <ul><li>调节共同效应（如 (L)）引入选择偏倚（第8章详述）。</li></ul></li></ul><hr><h4 id="_6-4-因果图中的正性和一致性" tabindex="-1"><a class="header-anchor" href="#_6-4-因果图中的正性和一致性"><span>6.4 因果图中的正性和一致性</span></a></h4><p><strong>子章节内容</strong><br> 因果图隐含正性和一致性假设：</p><ul><li><strong>正性（Positivity）</strong>： <ul><li>处理变量 (A) 的所有层需有观察数据（图中未显式编码）。</li></ul></li><li><strong>一致性（Consistency）</strong>： <ul><li>箭头 (A \\to Y) 需对应明确定义的干预（如体重减轻需指定方式）。</li></ul></li></ul><p><strong>技术重点（Technical Points）</strong></p><ul><li><strong>核心理论</strong>： <ul><li>处理节点特殊地位： <ul><li>父节点影响正性（如 (L \\to A)）；</li><li>子节点需明确定义干预（如 (A \\to Y)）。</li></ul></li></ul></li><li><strong>重要概念</strong>： <ul><li><strong>决策图（Influence Diagrams）</strong>：显式包含干预节点（未采用）。</li></ul></li><li><strong>应用场景</strong>： <ul><li>体重减轻研究（图6.10）：干预方式（节食/运动）影响效应解释。</li></ul></li></ul><p><strong>细节要点（Fine Points）</strong></p><ul><li><strong>案例分析</strong>： <ul><li>若 (A)（体重减轻）通过不同机制（如 (Z) 或 (L)）影响 (Y)，则效应定义模糊。</li></ul></li><li><strong>辅助信息</strong>： <ul><li>非处理变量（如肥胖）不宜作为处理节点（第3章）。</li></ul></li></ul><hr><h4 id="_6-5-偏倚的结构分类" tabindex="-1"><a class="header-anchor" href="#_6-5-偏倚的结构分类"><span>6.5 偏倚的结构分类</span></a></h4><p><strong>子章节内容</strong><br> 系统偏倚（无限样本仍存在）分类：</p><ol><li><strong>混杂偏倚</strong>：处理与结局有共同原因（第7章）；</li><li><strong>选择偏倚</strong>：调节共同效应（第8章）；</li><li><strong>测量偏倚</strong>：变量误差（第9章）。</li></ol><p><strong>技术重点（Technical Points）</strong></p><ul><li><strong>核心理论</strong>： <ul><li>零假设下偏倚： <ul><li>混杂和选择偏倚可致关联（即使因果效应）。</li></ul></li></ul></li><li><strong>重要概念</strong>： <ul><li><strong>可交换性缺失</strong>：导致关联 ≠ 因果效应。</li></ul></li><li><strong>应用场景</strong>： <ul><li>RCT和观察性研究均可能偏倚（如损耗、非依从）。</li></ul></li></ul><p><strong>细节要点（Fine Points）</strong></p><ul><li><strong>辅助信息</strong>： <ul><li>因果发现（Fine Point 6.3）：需忠实性假设，从数据推断结构。</li></ul></li></ul><hr><h4 id="_6-6-效应修饰的结构" tabindex="-1"><a class="header-anchor" href="#_6-6-效应修饰的结构"><span>6.6 效应修饰的结构</span></a></h4><p><strong>子章节内容</strong><br> 效应修饰变量（如 (V)）在因果图中：</p><ul><li><strong>类型</strong>： <ul><li>因果修饰因子（直接影响结局，如医疗质量 (V)）；</li><li>代理修饰因子（与因果修饰因子关联，如成本 (S)）。</li></ul></li><li><strong>限制</strong>： <ul><li>因果图不区分修饰类型（如定性/定量修饰）。</li></ul></li></ul><p><strong>技术重点（Technical Points）</strong></p><ul><li><strong>核心理论</strong>： <ul><li>代理修饰因子：通过共同原因、共同效应或因果链与因果修饰因子关联。</li></ul></li><li><strong>应用场景</strong>： <ul><li>心脏移植研究（图6.12）：(V)（医疗质量）修饰 (A) 对 (Y) 的效应。</li></ul></li></ul><p><strong>细节要点（Fine Points）</strong></p><ul><li><strong>案例分析</strong>： <ul><li>分层分析中，成本（(S)）可能代理医疗质量（(V)），导致虚假修饰解释。</li></ul></li><li><strong>辅助信息</strong>： <ul><li>交互作用需充分原因表示（第5章）。</li></ul></li></ul><hr><h3 id="逻辑关联性" tabindex="-1"><a class="header-anchor" href="#逻辑关联性"><span>逻辑关联性</span></a></h3><p>本章引入因果图作为基础，后续章节（第7-9章）将基于此讨论混杂、选择和测量偏倚。图形规则（如d-分离）为调整策略提供理论支持，与反事实模型（如SWIGs）互补。</p>',51))])}const A=i(g,[["render",u]]),y=JSON.parse(`{"path":"/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528/Chapter_6.html","title":"Chapter_6","lang":"en-US","frontmatter":{"title":"Chapter_6","category":"Causal inference","tags":["DeepSeek-R1-0528","response_md"],"description":"### 第6章：因果效应的图形表示 6.1 因果图 子章节内容 因果图（有向无环图，DAG）用于表示变量间的因果关系。节点代表随机变量（如 (L)、(A)、(Y)），边（箭头）表示直接因果效应。例如，图6.1中： (L)（疾病严重程度）→ (A)（心脏移植）→ (Y)（死亡），时间从左向右流动。 箭头存在表示至少一个个体存在直接因果效应（如 (L \\\\t...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Chapter_6\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-17T03:19:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aaron L\\",\\"url\\":\\"https://aaronlzm.github.io\\",\\"email\\":\\"lzm_aaron@outlook.com\\"}]}"],["meta",{"property":"og:url","content":"https://aaronlzm.github.io/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528/Chapter_6.html"}],["meta",{"property":"og:site_name","content":"Aaron's Blog"}],["meta",{"property":"og:title","content":"Chapter_6"}],["meta",{"property":"og:description","content":"### 第6章：因果效应的图形表示 6.1 因果图 子章节内容 因果图（有向无环图，DAG）用于表示变量间的因果关系。节点代表随机变量（如 (L)、(A)、(Y)），边（箭头）表示直接因果效应。例如，图6.1中： (L)（疾病严重程度）→ (A)（心脏移植）→ (Y)（死亡），时间从左向右流动。 箭头存在表示至少一个个体存在直接因果效应（如 (L \\\\t..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-09-17T03:19:05.000Z"}],["meta",{"property":"article:tag","content":"response_md"}],["meta",{"property":"article:tag","content":"DeepSeek-R1-0528"}],["meta",{"property":"article:modified_time","content":"2025-09-17T03:19:05.000Z"}]]},"git":{"createdTime":1758079145000,"updatedTime":1758079145000,"contributors":[{"name":"lizhimou","username":"lizhimou","email":"lizhimou@bytedance.com","commits":1,"url":"https://github.com/lizhimou"}]},"readingTime":{"minutes":7.11,"words":2132},"filePathRelative":"posts/Causal inference/What-if book reading notes/response_md/DeepSeek-R1-0528/Chapter_6.md","excerpt":"\\n### 第6章：因果效应的图形表示\\n<h4>6.1 因果图</h4>\\n<p><strong>子章节内容</strong><br>\\n因果图（有向无环图，DAG）用于表示变量间的因果关系。节点代表随机变量（如 (L)、(A)、(Y)），边（箭头）表示直接因果效应。例如，图6.1中：</p>\\n<ul>\\n<li>(L)（疾病严重程度）→ (A)（心脏移植）→ (Y)（死亡），时间从左向右流动。</li>\\n<li>箭头存在表示至少一个个体存在直接因果效应（如 (L \\\\to A) 表示疾病严重程度影响移植概率）。</li>\\n<li>无箭头表示无直接因果效应（如 (A) 和 (Y) 之间无直接箭头时，(A) 对 (Y) 无直接效应）。</li>\\n<li>DAG不区分效应方向（有害/保护性）或交互作用。</li>\\n</ul>","autoDesc":true}`);export{A as comp,y as data};
