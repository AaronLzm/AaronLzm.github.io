import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a as e,f as t,d as a,w as o,g as n,r as u,b as c}from"./app-BPhnXKse.js";const g={};function h(p,l){const r=u("think");return c(),i("div",null,[e(r,null,{default:o(()=>[...l[0]||(l[0]=[n(" 我们正在处理《因果推断：What If》第一章的内容。本章标题为“因果效应的定义”（A DEFINITION OF CAUSAL EFFECT）。根据用户要求，我们需要提炼所有技术重点和细节要点，使用中文总结，技术术语保留英文，数学公式用LaTeX格式。 ",-1),a("p",null,"首先，我们逐节分析：",-1),a("ol",null,[a("li",null,[a("p",null,"开篇介绍：作者指出人类天生具有因果直觉，本章的目的是引入数学符号来形式化这种直觉。")]),a("li",null,[a("p",null,"1.1 个体因果效应（Individual causal effects）："),a("ul",null,[a("li",null,"使用宙斯和赫拉的例子说明个体因果效应：比较同一个体在治疗（a=1）和未治疗（a=0）下的潜在结果（potential outcomes）。"),a("li",null,"定义：治疗A对个体结果Y有因果效应，当且仅当该个体在两种治疗下的潜在结果不同，即 (Y^{a=1} \\neq Y^{a=0})。"),a("li",null,[n("引入符号：设A为二分处理变量（1：治疗，0：未治疗），Y为二分结果变量（1：死亡，0：生存）。潜在结果（或反事实结果）(Y"),a("sup",{a:"0"},"{a=1})和(Y"),n(")是随机变量。")]),a("li",null,"一致性（consistency）：如果个体实际接受的治疗为A=a，则观察到的结果Y等于该个体在治疗a下的反事实结果，即 (Y = Y^A)（当A_i=a时，(Y_i = Y_i^a)）。")])]),a("li",null,[a("p",null,"1.2 平均因果效应（Average causal effects）："),a("ul",null,[a("li",null,"由于个体因果效应通常不可识别（因为只能观察到一种治疗下的结果），因此转向总体平均因果效应。"),a("li",null,"定义：在总体中，如果治疗值a=1和a=0下的平均结果不同，则存在平均因果效应，即 (E[Y^{a=1}] \\neq E[Y^{a=0}])。"),a("li",null,"使用宙斯家族的20人表格（表1.1）计算：在全部接受治疗（a=1）时死亡风险为0.5，全部未治疗（a=0）时死亡风险也为0.5，因此平均因果效应为零。"),a("li",null,"注意：平均因果效应为零（无平均效应）并不意味着没有个体效应（在表1.1中，12人有个体效应，其中6人受害，6人受益）。"),a("li",null,"平均因果效应等于个体因果效应差异的平均：(E[Y^{a=1} - Y^{a=0}] = E[Y^{a=1}] - E[Y^{a=0}])。"),a("li",null,"尖锐零假设（sharp causal null hypothesis）：所有个体的潜在结果都相同（即对所有个体，(Y^{a=1} = Y^{a=0})），它蕴含平均因果效应为零。")])]),a("li",null,[a("p",null,"精细点（Fine Points）："),a("ul",null,[a("li",null,"精细点1.1：干扰（Interference）——反事实结果通常假设个体的结果不受其他个体治疗分配的影响（无干扰）。如果存在干扰（如传染性疾病），则个体的反事实结果依赖于其他个体的治疗，此时需要更复杂的定义（如指定其他个体的治疗值）。无干扰是SUTVA（稳定单位处理值假设）的一部分。"),a("li",null,"精细点1.2：治疗的多种版本（Multiple versions of treatment）——反事实结果假设治疗值a只有一个版本（如所有心脏移植手术相同）。如果存在多个版本（如不同外科医生），则反事实结果依赖于具体版本。治疗变异无关性（treatment variation irrelevance）假设：不同版本的治疗对结果的影响相同，则反事实结果仍可定义。")])]),a("li",null,[a("p",null,"技术点（Technical Points）："),a("ul",null,[a("li",null,"技术点1.1：总体中的因果效应（Causal effects in the population）——平均因果效应通常定义为平均潜在结果的对比（如 (E[Y^a])）。但也可以定义为其他函数（如方差、中位数等）的对比。注意：对于非线性函数（如方差），总体因果效应（如方差的差异）不等于个体因果效应差异的方差。")])]),a("li",null,[a("p",null,"1.3 因果效应的度量（Measures of causal effect）："),a("ul",null,[a("li",null,"因果效应可以用不同尺度度量：风险差（causal risk difference）、风险比（causal risk ratio）、比值比（causal odds ratio）。"),a("li",null,[n("因果零假设的三种等价表示："),a("br"),n(" (i) 风险差：(Pr[Y^{a=1}=1] - Pr[Y^{a=0}=1] = 0)"),a("br"),n(" (ii) 风险比：(Pr[Y^{a=1}=1] / Pr[Y^{a=0}=1] = 1)"),a("br"),n(" (iii) 比值比：(\\frac{Pr[Y"),a("sup",{a:"1"},"{a=1}=1]/Pr[Y"),n("=0]}{Pr[Y"),a("sup",{a:"0"},"{a=0}=1]/Pr[Y"),n("=0]} = 1)")]),a("li",null,[n("注意：风险差是平均个体因果效应（因为 (E[Y"),a("sup",{a:"0"},"{a=1}-Y"),n("] = E[Y"),a("sup",{a:"0"},"{a=1}]-E[Y"),n("])），但风险比不是个体风险比的平均。")]),a("li",null,"精细点1.3：需要治疗人数（Number needed to treat, NNT）——定义为减少一个事件需要治疗的平均人数。当因果风险差为负（治疗减少事件）时，NNT = (-1 / (Pr[Y^{a=1}=1] - Pr[Y^{a=0}=1]))。")])]),a("li",null,[a("p",null,"1.4 随机变异性（Random variability）："),a("ul",null,[a("li",null,"实际研究中，我们通常只能从总体中抽样，因此存在抽样变异性（第一类随机误差）。"),a("li",null,"另外，反事实结果可能是非确定性的（第二类随机误差）：即个体的潜在结果不是固定的，而是概率性的（如量子力学观点）。此时，反事实结果是一个随机变量。"),a("li",null,"技术点1.2：非确定性反事实（Nondeterministic counterfactuals）——对于非确定性反事实，平均结果(E[Y^a])定义为期望值。如果结果二分，则因果风险比等于个体因果风险比的加权平均（权重为未治疗下的风险）。"),a("li",null,"为简化，本书在第十章之前忽略随机误差，假设反事实结果是确定性的，且总体很大（或视为无限总体的复制）。")])]),a("li",null,[a("p",null,"1.5 因果与关联（Causation versus association）："),a("ul",null,[a("li",null,"实际数据中，我们只能观察到每个个体实际接受治疗下的结果（如表1.2），因此无法直接计算反事实结果。"),a("li",null,"关联（association）定义为：在观察数据中，比较不同治疗组（A=1和A=0）的结果。即，关联存在当 (E[Y|A=1] \\neq E[Y|A=0])（对于二分结果，等价于条件概率不同）。"),a("li",null,"关联度量：关联风险差（associational risk difference）、关联风险比（associational risk ratio）、关联比值比（associational odds ratio）。"),a("li",null,"因果与关联的关键：因果效应比较的是同一总体在不同治疗下的结果（反事实世界），而关联比较的是同一总体中不同治疗组（实际接受不同治疗）的结果（实际世界）。"),a("li",null,"在表1.2的例子中，存在关联（治疗组死亡风险7/13，未治疗组3/7），但无平均因果效应（因为反事实风险均为0.5）。这种差异是由于混杂（confounding）造成的（如接受心脏移植的患者本身病情更重）。")])]),a("li",null,[a("p",null,"结论：因果推断需要反事实数据（表1.1），但实际只有观察数据（表1.2）。随机化实验（下一章）是解决此问题的一种方法。")])],-1),a("p",null,"现在，我们按照章节结构，提炼技术重点和细节要点，并给出结论。",-1),a("p",null,"注意：因果效应的定义（Chapter 1: A DEFINITION OF CAUSAL EFFECT）",-1),a("p",null,[n("子章节："),a("br"),n(" 1.1 个体因果效应"),a("br"),n(" 1.2 平均因果效应"),a("br"),n(" 1.3 因果效应的度量"),a("br"),n(" 1.4 随机变异性"),a("br"),n(" 1.5 因果与关联")],-1),a("p",null,"以及嵌入的精细点和技术点。",-1),a("p",null,"总结如下：",-1)])]),_:1}),l[1]||(l[1]=t(' ### 第一章：因果效应的定义（A DEFINITION OF CAUSAL EFFECT） <h4 id="核心目标" tabindex="-1"><a class="header-anchor" href="#核心目标"><span><strong>核心目标</strong></span></a></h4><p>引入数学符号形式化因果直觉，区分因果效应（causation）与关联（association）。</p><hr><h3 id="_1-1-个体因果效应-individual-causal-effects" tabindex="-1"><a class="header-anchor" href="#_1-1-个体因果效应-individual-causal-effects"><span><strong>1.1 个体因果效应（Individual Causal Effects）</strong></span></a></h3><h4 id="技术重点" tabindex="-1"><a class="header-anchor" href="#技术重点"><span><strong>技术重点</strong></span></a></h4><ul><li><strong>反事实结果（Counterfactual Outcomes）</strong>：<br> 定义潜在结果 (Y^a)，其中 (a) 表示治疗值（treatment value）： <ul><li>(Y^{a=1})：个体接受治疗（(A=1)）时的结果。</li><li>(Y^{a=0})：个体未接受治疗（(A=0)）时的结果。</li></ul></li><li><strong>个体因果效应</strong>：<br> 对个体 (i)，若其潜在结果不同（(Y_i^{a=1} \\neq Y_i^{a=0})），则治疗 (A) 对结果 (Y) 有因果效应。 <ul><li>例如：宙斯（Zeus）的 (Y^{a=1}=1)（死亡）且 (Y^{a=0}=0)（生存），故移植手术对其有因果效应。</li></ul></li><li><strong>一致性（Consistency）</strong>：<br> 若个体实际接受治疗 (A=a)，则观测结果 (Y) 等于其反事实结果 (Y^a)：<br> [<br> \\text{若 } A_i = a, \\text{ 则 } Y_i = Y_i^a<br> ]</li></ul><h4 id="细节要点" tabindex="-1"><a class="header-anchor" href="#细节要点"><span><strong>细节要点</strong></span></a></h4><ul><li>反事实结果也称为<strong>潜在结果（Potential Outcomes）</strong>，强调其未被观测的特性。</li><li>个体因果效应不可直接观测（因仅能观测一种治疗下的结果），故需转向<strong>平均因果效应</strong>。</li></ul><hr><h3 id="_1-2-平均因果效应-average-causal-effects" tabindex="-1"><a class="header-anchor" href="#_1-2-平均因果效应-average-causal-effects"><span><strong>1.2 平均因果效应（Average Causal Effects）</strong></span></a></h3><h4 id="技术重点-1" tabindex="-1"><a class="header-anchor" href="#技术重点-1"><span><strong>技术重点</strong></span></a></h4><ul><li><strong>定义</strong>：在总体中，若治疗值 (a=1) 和 (a=0) 下的期望结果不同，则存在平均因果效应：<br> [<br> E[Y^{a=1}] \\neq E[Y^{a=0}]<br> ]</li><li><strong>计算</strong>： <ul><li>风险（Risk）即期望值：对二分结果 (Y)，(E[Y^a] = \\Pr(Y^a = 1))。</li><li>例如：表 1.1 中，(\\Pr(Y^{a=1}=1) = 0.5)，(\\Pr(Y^{a=0}=1) = 0.5)，故无平均因果效应。</li></ul></li><li><strong>零假设</strong>： <ul><li><strong>平均因果效应零假设</strong>：(E[Y^{a=1}] = E[Y^{a=0}])。</li><li><strong>尖锐零假设（Sharp Causal Null）</strong>：对所有个体，(Y_i^{a=1} = Y_i^{a=0})（蕴含平均效应为零）。</li></ul></li></ul><h4 id="细节要点-1" tabindex="-1"><a class="header-anchor" href="#细节要点-1"><span><strong>细节要点</strong></span></a></h4><ul><li><strong>个体效应 vs. 平均效应</strong>：<br> 平均效应为零（如 (\\Pr(Y^{a=1}=1) = \\Pr(Y^{a=0}=1))）不排除存在个体效应（表 1.1 中 12 人有个体效应）。</li><li><strong>平均效应公式</strong>：<br> [<br> E[Y^{a=1}] - E[Y^{a=0}] = E[Y^{a=1} - Y^{a=0}]<br> ]</li></ul><h4 id="精细点" tabindex="-1"><a class="header-anchor" href="#精细点"><span><strong>精细点</strong></span></a></h4><ul><li><strong>干扰（Interference）</strong>（Fine Point 1.1）：<br> 反事实结果假设无干扰（no interference）—个体结果不受他人治疗影响。若存在干扰（如传染病研究），需指定他人治疗值。</li><li><strong>治疗的多种版本（Multiple Versions of Treatment）</strong>（Fine Point 1.2）：<br> 反事实结果假设治疗 (a) 仅单一版本。若存在多版本（如不同手术方式），需假设<strong>治疗变异无关性（treatment variation irrelevance）</strong>—所有版本对结果影响相同。</li></ul><hr><h3 id="_1-3-因果效应的度量-measures-of-causal-effect" tabindex="-1"><a class="header-anchor" href="#_1-3-因果效应的度量-measures-of-causal-effect"><span><strong>1.3 因果效应的度量（Measures of Causal Effect）</strong></span></a></h3><h4 id="技术重点-2" tabindex="-1"><a class="header-anchor" href="#技术重点-2"><span><strong>技术重点</strong></span></a></h4>',20)),l[2]||(l[2]=a("ul",null,[a("li",null,[a("strong",null,"因果效应度量"),n("： "),a("ul",null,[a("li",null,[a("strong",null,"风险差（Causal Risk Difference）"),n("：(\\Pr(Y^{a=1}=1) - \\Pr(Y^{a=0}=1))")]),a("li",null,[a("strong",null,"风险比（Causal Risk Ratio）"),n("：(\\Pr(Y^{a=1}=1) / \\Pr(Y^{a=0}=1))")]),a("li",null,[a("strong",null,"比值比（Causal Odds Ratio）"),n("：(\\frac{\\Pr(Y"),a("sup",{a:"1"},"{a=1}=1)/\\Pr(Y"),n("=0)}{\\Pr(Y"),a("sup",{a:"0"},"{a=0}=1)/\\Pr(Y"),n("=0)})")])])]),a("li",null,[a("strong",null,"尺度选择"),n("： "),a("ul",null,[a("li",null,"乘法尺度（如风险比）量化相对效应。"),a("li",null,"加法尺度（如风险差）量化绝对效应。")])])],-1)),l[3]||(l[3]=t('<h4 id="细节要点-2" tabindex="-1"><a class="header-anchor" href="#细节要点-2"><span><strong>细节要点</strong></span></a></h4><ul><li><strong>风险差性质</strong>：<br> 等于个体因果效应差异的平均：(E[Y^{a=1} - Y^{a=0}])。</li><li><strong>风险比性质</strong>：<br><strong>非</strong>个体风险比的平均（因尺度非线性）。</li><li><strong>需要治疗人数（NNT）</strong>（Fine Point 1.3）：<br> [<br> \\text{NNT} = \\frac{-1}{\\Pr(Y^{a=1}=1) - \\Pr(Y^{a=0}=1)}<br> ]<br> 表示预防一例事件需治疗的平均人数（当风险差为负时）。</li></ul><hr><h3 id="_1-4-随机变异性-random-variability" tabindex="-1"><a class="header-anchor" href="#_1-4-随机变异性-random-variability"><span><strong>1.4 随机变异性（Random Variability）</strong></span></a></h3><h4 id="技术重点-3" tabindex="-1"><a class="header-anchor" href="#技术重点-3"><span><strong>技术重点</strong></span></a></h4><ul><li><strong>随机误差来源</strong>： <ol><li><strong>抽样变异性（Sampling Variability）</strong>：样本估计总体参数（如 (\\hat{\\Pr}(Y^a=1))）的误差。</li><li><strong>非确定性反事实（Nondeterministic Counterfactuals）</strong>：潜在结果为随机变量（如宙斯死亡概率为 90% 而非固定值）。</li></ol></li><li><strong>一致性估计</strong>：样本比例 (\\hat{\\Pr}(Y^a=1)) 是总体风险 (\\Pr(Y^a=1)) 的<strong>一致估计量（consistent estimator）</strong>。</li></ul><h4 id="技术点" tabindex="-1"><a class="header-anchor" href="#技术点"><span><strong>技术点</strong></span></a></h4><ul><li><strong>非确定性反事实的期望</strong>（Technical Point 1.2）：<br> [<br> E[Y^a] = \\int y dF_{Y^a}(y)<br> ]<br> 其中 (F_{Y^a}) 是 (Y^a) 的累积分布函数（CDF）。</li></ul><h4 id="细节要点-3" tabindex="-1"><a class="header-anchor" href="#细节要点-3"><span><strong>细节要点</strong></span></a></h4><ul><li>本书前九章假设： <ul><li>反事实结果<strong>确定性（deterministic）</strong>。</li><li>总体极大（忽略抽样误差），以简化分析。</li></ul></li></ul><hr><h3 id="_1-5-因果-vs-关联-causation-vs-association" tabindex="-1"><a class="header-anchor" href="#_1-5-因果-vs-关联-causation-vs-association"><span><strong>1.5 因果 vs. 关联（Causation vs. Association）</strong></span></a></h3><h4 id="技术重点-4" tabindex="-1"><a class="header-anchor" href="#技术重点-4"><span><strong>技术重点</strong></span></a></h4><ul><li><strong>关联（Association）</strong>：<br> 比较实际观测的不同治疗组结果：<br> [<br> E[Y \\mid A=1] \\neq E[Y \\mid A=0]<br> ]</li><li><strong>因果（Causation）</strong>：<br> 比较同一总体在<strong>反事实治疗场景</strong>下的结果：<br> [<br> E[Y^{a=1}] \\neq E[Y^{a=0}]<br> ]</li><li><strong>关键区别</strong>： <ul><li>关联是<strong>条件概率</strong>（基于实际治疗分组）。</li><li>因果是<strong>边际概率</strong>（基于反事实干预）。</li></ul></li></ul><h4 id="细节要点-4" tabindex="-1"><a class="header-anchor" href="#细节要点-4"><span><strong>细节要点</strong></span></a></h4><ul><li><strong>表 1.2 示例</strong>： <ul><li>关联存在：(\\Pr(Y=1 \\mid A=1) = 7/13 \\neq \\Pr(Y=1 \\mid A=0) = 3/7)。</li><li>因果不存在：(\\Pr(Y^{a=1}=1) = \\Pr(Y^{a=0}=1) = 0.5)。<br> 差异由<strong>混杂（confounding）</strong> 导致（如接受移植者更可能死亡）。</li></ul></li><li><strong>关联度量</strong>：<br> 关联风险差、风险比、比值比（形式同因果度量，但基于观测数据）。</li></ul><h4 id="结论" tabindex="-1"><a class="header-anchor" href="#结论"><span><strong>结论</strong></span></a></h4><ul><li><strong>“关联非因果”</strong>：因关联可受混杂因素扭曲。</li><li><strong>解决方案</strong>：随机化实验（见第二章）可消除混杂，使关联反映因果。</li></ul><hr><h3 id="关键结论" tabindex="-1"><a class="header-anchor" href="#关键结论"><span><strong>关键结论</strong></span></a></h3><ol><li><strong>因果效应定义</strong>：基于反事实结果 (Y^a) 的对比（个体或平均层面）。</li><li><strong>识别挑战</strong>：个体因果效应不可观测；平均因果效应需特定条件（如随机化）从观测数据估计。</li><li><strong>因果 vs. 关联</strong>： <ul><li>因果：同一总体在不同治疗下的反事实比较。</li><li>关联：同一总体内不同治疗组的实际结果比较。</li></ul></li><li><strong>核心假设</strong>：无干扰（SUTVA）、治疗变异无关性（简化反事实定义）。</li><li><strong>随机化实验</strong>：是连接关联与因果的关键方法（第二章展开）。</li></ol>',21))])}const Y=s(g,[["render",h]]),m=JSON.parse(`{"path":"/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528-1st/Chapter_1.html","title":"Chapter_1","lang":"en-US","frontmatter":{"title":"Chapter_1","category":"Causal inference","tags":["DeepSeek-R1-0528-1st","response_md"],"description":"### 第一章：因果效应的定义（A DEFINITION OF CAUSAL EFFECT） 核心目标 引入数学符号形式化因果直觉，区分因果效应（causation）与关联（association）。 1.1 个体因果效应（Individual Causal Effects） 技术重点 反事实结果（Counterfactual Outcomes）： 定...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Chapter_1\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-17T03:19:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aaron L\\",\\"url\\":\\"https://aaronlzm.github.io\\",\\"email\\":\\"lzm_aaron@outlook.com\\"}]}"],["meta",{"property":"og:url","content":"https://aaronlzm.github.io/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528-1st/Chapter_1.html"}],["meta",{"property":"og:site_name","content":"Aaron's Blog"}],["meta",{"property":"og:title","content":"Chapter_1"}],["meta",{"property":"og:description","content":"### 第一章：因果效应的定义（A DEFINITION OF CAUSAL EFFECT） 核心目标 引入数学符号形式化因果直觉，区分因果效应（causation）与关联（association）。 1.1 个体因果效应（Individual Causal Effects） 技术重点 反事实结果（Counterfactual Outcomes）： 定..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-09-17T03:19:05.000Z"}],["meta",{"property":"article:tag","content":"response_md"}],["meta",{"property":"article:tag","content":"DeepSeek-R1-0528-1st"}],["meta",{"property":"article:modified_time","content":"2025-09-17T03:19:05.000Z"}]]},"git":{"createdTime":1758079145000,"updatedTime":1758079145000,"contributors":[{"name":"lizhimou","username":"lizhimou","email":"lizhimou@bytedance.com","commits":1,"url":"https://github.com/lizhimou"}]},"readingTime":{"minutes":10.72,"words":3215},"filePathRelative":"posts/Causal inference/What-if book reading notes/response_md/DeepSeek-R1-0528-1st/Chapter_1.md","excerpt":"\\n### 第一章：因果效应的定义（A DEFINITION OF CAUSAL EFFECT）\\n<h4><strong>核心目标</strong></h4>\\n<p>引入数学符号形式化因果直觉，区分因果效应（causation）与关联（association）。</p>\\n<hr>\\n<h3><strong>1.1 个体因果效应（Individual Causal Effects）</strong></h3>","autoDesc":true}`);export{Y as comp,m as data};
