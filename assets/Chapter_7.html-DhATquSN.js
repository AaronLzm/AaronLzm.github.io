import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a as e,g as n,d as r,f as s,w as a,r as g,b as p}from"./app-DLawq5eS.js";const u={};function h(c,t){const l=g("think");return p(),i("div",null,[e(l,null,{default:a(()=>[...t[0]||(t[0]=[n(" 我们正在处理《因果推断：What If》第7章“混杂”的内容。本章介绍了混杂的概念、结构、与可交换性的关系、后门准则、混杂调整方法等。由于内容较长，我们将按照章节结构逐步总结。 ",-1),r("p",null,[n("第7章分为以下子章节："),r("br"),n(" 7.1 混杂的结构"),r("br"),n(" 7.2 混杂与可交换性"),r("br"),n(" 7.3 混杂与后门准则"),r("br"),n(" 7.4 混杂与混杂因子"),r("br"),n(" 7.5 单世界干预图（SWIGs）"),r("br"),n(" 7.6 混杂调整")],-1),r("p",null,"此外，还有多个技术点（Technical Points）和精细点（Fine Points）穿插其中。",-1),r("p",null,"由于输入内容包含多个页面，我们将按顺序逐步总结每个部分，确保提取所有技术重点和细节要点。",-1),r("p",null,"注意：由于图像内容无法直接解析，我们将根据文本描述和上下文来总结图中信息。对于无法解析的图片，我们将标注“基于描述”。",-1),r("p",null,"开始总结：",-1)])]),_:1}),t[1]||(t[1]=n(" ### 第7章 混杂（CONFOUNDING） ",-1)),t[2]||(t[2]=r("h4",{id:"_7-1-混杂的结构",tabindex:"-1"},[r("a",{class:"header-anchor",href:"#_7-1-混杂的结构"},[r("span",null,"7.1 混杂的结构")])],-1)),t[3]||(t[3]=r("p",null,[r("strong",null,"技术重点（Technical Points）"),n("：")],-1)),t[4]||(t[4]=r("ul",null,[r("li",null,[r("strong",null,"混杂的定义"),n("：当处理（A）和结局（Y）存在共同原因（L或U）时，关联不等于因果效应，称为混杂。混杂源于开放的后门路径（如 (A \\leftarrow L \\rightarrow Y)）。")]),r("li",null,[r("strong",null,"后门路径"),n("：非因果路径，其箭头指向处理变量（A）。例如，图7.1中路径 (A \\leftarrow L \\rightarrow Y) 是后门路径。")]),r("li",null,[r("strong",null,"混杂的数学表达"),n("：若存在混杂，关联风险比 (\\frac{\\Pr[Y=1|A=1]}{\\Pr[Y=1|A=0]}) 不等于因果风险比 (\\frac{\\Pr[Y"),r("sup",{a:"0"},"{a=1}=1]}{\\Pr[Y"),n("=1]})。")]),r("li",null,[r("strong",null,"混杂的常见场景"),n("： "),r("ul",null,[r("li",null,"职业因素（如消防员健康工人偏倚）。"),r("li",null,"临床决策（如适应症混杂）。"),r("li",null,"生活方式（如吸烟与运动的混杂）。"),r("li",null,"遗传因素（如连锁不平衡）。"),r("li",null,"社会/环境因素（如收入与污染物）。")])])],-1)),t[5]||(t[5]=s('<p><strong>细节要点（Fine Points）</strong>：</p><ul><li><strong>混杂的实质</strong>：由共同原因引起的关联是真实的，但不可解释为因果效应（Yule, 1903）。</li><li><strong>结构基础</strong>：所有混杂案例均源于开放的后门路径（如 (A \\leftarrow L \\rightarrow Y) 或 (A \\leftarrow U \\rightarrow Y)）。</li></ul><hr><h4 id="_7-2-混杂与可交换性" tabindex="-1"><a class="header-anchor" href="#_7-2-混杂与可交换性"><span>7.2 混杂与可交换性</span></a></h4><p><strong>技术重点（Technical Points）</strong>：</p><ul><li><strong>可交换性</strong>： <ul><li>边际可交换性（(Y^a \\perp!!!\\perp A)）：无混杂时成立（如随机实验），因果效应可直接计算为 (E[Y|A=1] - E[Y|A=0])。</li><li>条件可交换性（(Y^a \\perp!!!\\perp A | L)）：需调整混杂因子L，通过标准化或IP加权计算因果效应：<br> [<br> E[Y^{a=1}] - E[Y^{a=0}] = \\sum_l \\left( E[Y|L=l,A=1] - E[Y|L=l,A=0] \\right) \\Pr[L=l]<br> ]</li></ul></li><li><strong>后门准则</strong>：若L满足以下条件，则条件可交换性成立： <ol><li>阻断所有A到Y的后门路径。</li><li>L不包含A的后代变量。</li></ol></li><li><strong>无混杂的场景</strong>： <ol><li>无共同原因（如边际随机实验）。</li><li>有共同原因但L可阻断所有后门路径（无未测量混杂）。</li></ol></li></ul><p><strong>细节要点（Fine Points）</strong>：</p><ul><li><strong>可交换性的应用</strong>：后门准则在FFRCISTG模型下等价于条件可交换性（Technical Point 7.1）。</li><li><strong>混杂方向与强度</strong>：后门准则不量化混杂大小或方向（需敏感性分析，见Fine Point 7.1）。</li></ul><hr><h4 id="_7-3-混杂与后门准则" tabindex="-1"><a class="header-anchor" href="#_7-3-混杂与后门准则"><span>7.3 混杂与后门准则</span></a></h4><p><strong>技术重点（Technical Points）</strong>：</p><ul><li><strong>后门准则应用</strong>： <ul><li>图7.1：调整L可阻断后门路径（无未测量混杂）。</li><li>图7.2-7.3：调整L可阻断由未测量U引起的后门路径。</li><li>图7.4：无混杂（L为碰撞子，无需调整；调整会引入选择偏倚）。</li></ul></li><li><strong>混杂因子定义</strong>：若数据（A,Y）不足以识别因果效应，则L是混杂因子（需调整）；否则是非混杂因子。</li><li><strong>选择偏倚</strong>：调整碰撞子（如L在图7.4）会打开后门路径，导致偏倚。</li></ul><p><strong>细节要点（Fine Points）</strong>：</p><ul><li><strong>混杂方向预测</strong>：使用符号因果图（如箭头符号相同为正混杂，反之为负混杂）。</li><li><strong>混杂强度</strong>：取决于混杂因子-处理/结局关联强度及混杂因子（Cornfield et al., 1959）。</li><li><strong>M-偏倚</strong>：图7.4中调整L引入的偏倚（Greenland, 2003）。</li></ul><hr><h4 id="_7-4-混杂与混杂因子" tabindex="-1"><a class="header-anchor" href="#_7-4-混杂与混杂因子"><span>7.4 混杂与混杂因子</span></a></h4><p><strong>技术重点（Technical Points）</strong>：</p><ul><li><strong>传统混杂因子定义问题</strong>：基于关联标准（如与A/Y关联且不在因果路径）可能导致错误调整（如图7.4调整L引入偏倚）。</li><li><strong>结构方法</strong>：需基于因果DAG确定混杂因子，调整需满足后门准则。</li><li><strong>混杂因子的相对性</strong>：L是否为混杂因子取决于已测变量（如U未测时L是混杂因子；若U已测则否）。</li></ul><p><strong>细节要点（Fine Points）</strong>：</p><ul><li><strong>代理混杂因子</strong>：未测U的代理变量（如收入代理社会经济地位）可部分减少混杂（图7.8）。</li><li><strong>传统定义修正</strong>：需结合交换性条件（Technical Point 7.2）。</li></ul><hr><h4 id="_7-5-单世界干预图-swigs" tabindex="-1"><a class="header-anchor" href="#_7-5-单世界干预图-swigs"><span>7.5 单世界干预图（SWIGs）</span></a></h4><p><strong>技术重点（Technical Points）</strong>：</p><ul><li><strong>SWIG原理</strong>：将反事实变量（如(Y^a)）纳入DAG，表示干预设定A=a的世界。</li><li><strong>可交换性验证</strong>：在SWIG中，(Y^a \\perp!!!\\perp A | L) 当且仅当L阻断所有后门路径（图7.9-7.10）。</li><li><strong>优势</strong>：统一反事实与图形方法，直接验证d-分离。</li></ul><p><strong>细节要点（Fine Points）</strong>：</p><ul><li><strong>处理后代变量</strong>：调整A的后代变量（如图7.11的L）不满足条件可交换性（图7.12）。</li></ul><hr><h4 id="_7-6-混杂调整" tabindex="-1"><a class="header-anchor" href="#_7-6-混杂调整"><span>7.6 混杂调整</span></a></h4><p><strong>技术重点（Technical Points）</strong>：</p><ul><li><strong>调整方法</strong>： <ul><li><strong>G-方法</strong>：标准化、IP加权、g-估计（模拟删除 (L \\rightarrow A) 的路径）。</li><li><strong>常规方法</strong>：分层、匹配（基于子集估计）。</li></ul></li><li><strong>替代方法</strong>：工具变量、前门准则（Technical Point 7.4）、差分法（Technical Point 7.3）。</li><li><strong>前门准则</strong>：当存在完全中介M且无未测量混杂时（图7.14）：<br> [<br> \\Pr[Y^a=1] = \\sum_m \\Pr[M=m|A=a] \\sum_{a&#39;} \\Pr[Y=1|M=m,A=a&#39;] \\Pr[A=a&#39;]<br> ]</li></ul><p><strong>细节要点（Fine Points）</strong>：</p><ul><li><strong>差分法</strong>：利用阴性结局控制（如干预前结局）估计混杂大小（图7.13）。</li><li><strong>观察性研究的挑战</strong>：需依赖领域知识测量足够混杂因子，但无法完全消除混杂风险。</li><li><strong>科学批评的回应</strong>：需具体指出混杂源（如吸烟），而非泛化批评。</li></ul><hr><h3 id="关键公式总结" tabindex="-1"><a class="header-anchor" href="#关键公式总结"><span>关键公式总结</span></a></h3><ol><li><strong>条件可交换性下的因果效应</strong>：<br> [<br> E[Y^{a}] = \\sum_l E[Y|L=l,A=a] \\Pr[L=l]<br> ]</li><li><strong>前门准则</strong>：<br> [<br> \\Pr[Y^a=1] = \\sum_m \\Pr[M=m|A=a] \\sum_{a&#39;} \\Pr[Y=1|M=m,A=a&#39;] \\Pr[A=a&#39;]<br> ]</li><li><strong>差分法（阴性结局控制）</strong>：<br> [<br> E[Y^{1} - Y^{0}|A=1] = (E[Y|A=1] - \\E[Y|A=0]) - (\\E[C|A=1] - \\E[C|A=0])<br> ]</li></ol><h3 id="图示说明-基于描述" tabindex="-1"><a class="header-anchor" href="#图示说明-基于描述"><span>图示说明（基于描述）</span></a></h3><ul><li><strong>图7.1-7.3</strong>：共同原因L或U导致混杂（后门路径）。</li><li><strong>图7.4</strong>：L为碰撞子，调整引入偏倚。</li><li><strong>图7.14（前门准则）</strong>：M中介A对Y的效应，阻断后门路径需调整M。</li></ul>',37))])}const A=o(u,[["render",h]]),Y=JSON.parse(`{"path":"/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528/Chapter_7.html","title":"Chapter_7","lang":"en-US","frontmatter":{"title":"Chapter_7","category":"Causal inference","tags":["DeepSeek-R1-0528","response_md"],"description":"### 第7章 混杂（CONFOUNDING） 7.1 混杂的结构 技术重点（Technical Points）： 混杂的定义：当处理（A）和结局（Y）存在共同原因（L或U）时，关联不等于因果效应，称为混杂。混杂源于开放的后门路径（如 (A \\\\leftarrow L \\\\rightarrow Y)）。 后门路径：非因果路径，其箭头指向处理变量（A）。例如...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Chapter_7\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-17T03:19:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aaron L\\",\\"url\\":\\"https://aaronlzm.github.io\\",\\"email\\":\\"lzm_aaron@outlook.com\\"}]}"],["meta",{"property":"og:url","content":"https://aaronlzm.github.io/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528/Chapter_7.html"}],["meta",{"property":"og:site_name","content":"Aaron's Blog"}],["meta",{"property":"og:title","content":"Chapter_7"}],["meta",{"property":"og:description","content":"### 第7章 混杂（CONFOUNDING） 7.1 混杂的结构 技术重点（Technical Points）： 混杂的定义：当处理（A）和结局（Y）存在共同原因（L或U）时，关联不等于因果效应，称为混杂。混杂源于开放的后门路径（如 (A \\\\leftarrow L \\\\rightarrow Y)）。 后门路径：非因果路径，其箭头指向处理变量（A）。例如..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-09-17T03:19:05.000Z"}],["meta",{"property":"article:tag","content":"response_md"}],["meta",{"property":"article:tag","content":"DeepSeek-R1-0528"}],["meta",{"property":"article:modified_time","content":"2025-09-17T03:19:05.000Z"}]]},"git":{"createdTime":1758079145000,"updatedTime":1758079145000,"contributors":[{"name":"lizhimou","username":"lizhimou","email":"lizhimou@bytedance.com","commits":1,"url":"https://github.com/lizhimou"}]},"readingTime":{"minutes":5.7,"words":1710},"filePathRelative":"posts/Causal inference/What-if book reading notes/response_md/DeepSeek-R1-0528/Chapter_7.md","excerpt":"\\n### 第7章 混杂（CONFOUNDING）\\n<h4>7.1 混杂的结构</h4>\\n<p><strong>技术重点（Technical Points）</strong>：</p>\\n<ul>\\n<li><strong>混杂的定义</strong>：当处理（A）和结局（Y）存在共同原因（L或U）时，关联不等于因果效应，称为混杂。混杂源于开放的后门路径（如 (A \\\\leftarrow L \\\\rightarrow Y)）。</li>\\n<li><strong>后门路径</strong>：非因果路径，其箭头指向处理变量（A）。例如，图7.1中路径 (A \\\\leftarrow L \\\\rightarrow Y) 是后门路径。</li>\\n<li><strong>混杂的数学表达</strong>：若存在混杂，关联风险比 (\\\\frac{\\\\Pr[Y=1|A=1]}{\\\\Pr[Y=1|A=0]}) 不等于因果风险比 (\\\\frac{\\\\Pr[Y<sup a=\\"0\\">{a=1}=1]}{\\\\Pr[Y</sup>=1]})。</li>\\n<li><strong>混杂的常见场景</strong>：\\n<ul>\\n<li>职业因素（如消防员健康工人偏倚）。</li>\\n<li>临床决策（如适应症混杂）。</li>\\n<li>生活方式（如吸烟与运动的混杂）。</li>\\n<li>遗传因素（如连锁不平衡）。</li>\\n<li>社会/环境因素（如收入与污染物）。</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}`);export{A as comp,Y as data};
