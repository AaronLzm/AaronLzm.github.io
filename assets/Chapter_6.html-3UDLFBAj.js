import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,f as t,b as e}from"./app-DTT-b9WU.js";const l={};function i(m,s){return e(),n("div",null,[...s[0]||(s[0]=[t('<h1 id="chapter-6-graphical-representation-of-causal-effects" tabindex="-1"><a class="header-anchor" href="#chapter-6-graphical-representation-of-causal-effects"><span>Chapter 6: Graphical Representation of Causal Effects</span></a></h1><h2 id="_6-1-causal-diagrams" tabindex="-1"><a class="header-anchor" href="#_6-1-causal-diagrams"><span>6.1 Causal Diagrams</span></a></h2><p><strong>ENGLISH</strong></p><ul><li>Causal inference often relies on expert knowledge and untestable assumptions about the causal network connecting variables such as treatment (A), outcome (Y), and covariates (L).</li><li>As problems get more complex, it becomes crucial to <strong>explicitly represent</strong> our assumptions about causal relationships among variables.</li><li><strong>Causal diagrams</strong> (also known as Directed Acyclic Graphs, DAGs) are graphical tools to <strong>represent qualitative knowledge</strong> and <strong>assumptions</strong> about causal structure. <ul><li><strong>Directed:</strong> edges (arrows) have a specific direction, e.g., ( L \\to A ).</li><li><strong>Acyclic:</strong> No cycles allowed (i.e., a node cannot be its own ancestor).</li></ul></li><li><strong>KEY CONVENTION:</strong><ul><li>An arrow from (V) to (W) indicates a direct causal effect of (V) on (W).</li><li>Absence of an arrow means <strong>no direct causal effect</strong> for any individual in the population.</li><li>The diagram does <strong>not specify</strong> whether effects are harmful or protective, or encode interactions between causes.</li></ul></li></ul><p><strong>中文</strong></p><ul><li>因果推断通常依赖于专家知识和关于变量（如处理A，结果Y，协变量L）之间因果网络的不可检验假设。</li><li>随着问题复杂度提升，<strong>明确表达</strong>我们关于变量间因果关系的假设变得非常重要。</li><li><strong>因果图</strong>（有向无环图，DAG）是一种用于<strong>表达因果结构中的定性知识和假设</strong>的图形工具。 <ul><li>**有向：**箭头有方向，例如 ( L \\to A )。</li><li><strong>无环：</strong> 不允许有回路（即节点不能成为自身祖先）。</li></ul></li><li><strong>核心约定：</strong><ul><li>从 (V) 指向 (W) 的箭头表示 (V) 对 (W) 有直接因果作用。</li><li>没有箭头表示在整个人群中不存在这种直接因果作用。</li><li>图中<strong>不会区分</strong>这种作用是有害还是保护，也<strong>不编码</strong>多因子的交互作用。</li></ul></li></ul><hr><h2 id="technical-point-6-1-causal-dags-数学定义" tabindex="-1"><a class="header-anchor" href="#technical-point-6-1-causal-dags-数学定义"><span>Technical Point 6.1: Causal DAGs 数学定义</span></a></h2><p><strong>ENGLISH</strong></p><ul><li>A DAG ( G ) has nodes (random variables) ( V = (V_1,\\ldots,V_M) ).</li><li><strong>Parents:</strong> ( PA_m ) is the set of nodes with arrows into ( V_m ).</li><li><strong>Markov Factorization:</strong><br> The joint distribution ( f(v) ) <strong>factors according to the DAG</strong> if:<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∏</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>f</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>p</mi><msub><mi>a</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(v) = \\prod_{j=1}^M f(v_j | pa_j) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.2421em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p></li><li><strong>Causal DAG Requirements:</strong><ol><li>Absence of an arrow from ( V_j ) to ( V_m ) implies <strong>no direct causal effect</strong>.</li><li>All <strong>common causes</strong> (even unmeasured) of any two variables must be on the graph.</li><li>Every variable is a cause of its descendants.</li></ol></li><li><strong>Causal Markov Assumption:</strong> Conditional on its <strong>direct causes</strong> (parents), a variable is independent of any variable it does not cause.</li></ul><p><strong>中文</strong></p><ul><li>一个DAG（有向无环图）( G ) 的节点为随机变量 ( V = (V_1,\\ldots,V_M) )。</li><li><strong>父节点（Parents）：</strong> ( PA_m ) 表示所有指向 ( V_m ) 的节点集合。</li><li><strong>马尔可夫分解：</strong><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∏</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>f</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>p</mi><msub><mi>a</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(v) = \\prod_{j=1}^M f(v_j | pa_j) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.2421em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p></li><li><strong>因果DAG要求：</strong><ol><li>没有箭头 ( V_j \\to V_m ) 表示 ( V_j ) 对 ( V_m ) 没有直接因果作用。</li><li>任何两个变量的<strong>共同原因</strong>（即使未被观测）都必须包含在图中。</li><li>任一变量都是其后代的原因。</li></ol></li><li><strong>因果马尔可夫假设：</strong> 在已知其直接原因的条件下，一个变量与任何不是其结果的变量独立。</li></ul><hr><h2 id="_6-2-causal-diagrams-and-marginal-independence" tabindex="-1"><a class="header-anchor" href="#_6-2-causal-diagrams-and-marginal-independence"><span>6.2 Causal Diagrams and Marginal Independence</span></a></h2><p><strong>ENGLISH</strong></p><ul><li>Causal diagrams also encode expectations about <strong>associations</strong> (correlations) as well as causation.</li><li><strong>Key Results:</strong><ol><li>If (A) has a causal effect on (Y), they are generally associated: <ul><li>( \\Pr[Y^{a=1}=1] \\neq \\Pr[Y^{a=0}=1] \\implies \\Pr[Y=1|A=1] \\neq \\Pr[Y=1|A=0] )</li></ul></li><li>If (A) has no direct effect but shares a <strong>common cause</strong> (L) with (Y), (A) and (Y) are associated due to (L).</li><li>If (A) and (Y) only <strong>share a common effect (collider)</strong> (L), they are marginally independent; the collider blocks association.</li></ol></li></ul><p><strong>中文</strong></p><ul><li>因果图除了表达因果关系，还隐含了变量间**相关性（关联）**的期望。</li><li><strong>主要结论：</strong><ol><li>如果 (A) 对 (Y) 有因果作用，则两者一般相关：<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo mathvariant="normal">≠</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo mathvariant="normal">≠</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\Pr[Y^{a=1}=1] \\neq \\Pr[Y^{a=0}=1] \\implies \\Pr[Y=1|A=1] \\neq \\Pr[Y=1|A=0] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span></span></span></span></span></p></li><li>若 (A) 与 (Y) 没有直接作用，但有共同原因 (L)，则 (A) 与 (Y) 由于 (L) 而相关。</li><li>如果 (A) 和 (Y) 只在一个共同结果（碰撞点，collider）(L) 处关联，则它们在边际上独立，碰撞点阻断了相关性。</li></ol></li></ul><hr><h2 id="technical-point-6-2-dags-and-counterfactual-models" tabindex="-1"><a class="header-anchor" href="#technical-point-6-2-dags-and-counterfactual-models"><span>Technical Point 6.2: DAGs and Counterfactual Models</span></a></h2><p><strong>ENGLISH</strong></p><ul><li>Each causal DAG ( G ) represents an underlying <strong>counterfactual model</strong>.</li><li><strong>Nonparametric Structural Equation Model (NPSEM):</strong><ul><li>Each node ( V_m ) is determined by a function ( f_m(pa_m, \\epsilon_m) ).</li><li>NPSEM implies the <strong>existence of counterfactuals</strong> for every variable.</li></ul></li><li><strong>Factual and counterfactual values</strong> are constructed recursively.</li><li><strong>Different Models:</strong><ul><li><strong>NPSEM-IE:</strong> Assumes all errors ( \\epsilon_m ) are mutually independent.</li><li><strong>FFRCISTG:</strong> Fully randomized model with fewer independence assumptions, implies causal Markov under weaker assumptions.</li></ul></li></ul><p><strong>中文</strong></p><ul><li>每个因果DAG ( G ) 对应一个<strong>反事实模型</strong>。</li><li><strong>非参数结构方程模型（NPSEM）：</strong><ul><li>每个变量 ( V_m ) 由 ( f_m(pa_m, \\epsilon_m) ) 决定。</li><li>该模型假定每个变量的反事实值都存在。</li></ul></li><li><strong>实际值与反事实值</strong>递归构建。</li><li><strong>不同类型模型：</strong><ul><li><strong>NPSEM-IE：</strong> 假设所有误差项 ( \\epsilon_m ) 相互独立。</li><li><strong>FFRCISTG：</strong> 完全随机化结构图，独立假设更弱，但足以推导因果马尔可夫性。</li></ul></li></ul><hr><h2 id="technical-point-6-3-independencies-in-counterfactual-models" tabindex="-1"><a class="header-anchor" href="#technical-point-6-3-independencies-in-counterfactual-models"><span>Technical Point 6.3: Independencies in Counterfactual Models</span></a></h2><p><strong>ENGLISH</strong></p><ul><li><strong>Key Idea:</strong> NPSEM-IE implies stronger independence than FFRCISTG.</li><li><strong>Exchangeability:</strong><ul><li>Under NPSEM-IE: ( (Y^{a=0}, Y^{a=1}) \\perp!!!\\perp A ) (full exchangeability)</li><li>Under FFRCISTG: ( Y^a \\perp!!!\\perp A ) for ( a\\in{0,1} ) (marginal exchangeability)</li></ul></li><li>Unless otherwise stated, a DAG represents FFRCISTG &quot;as detailed as the data&quot;.</li></ul><p><strong>中文</strong></p><ul><li><strong>核心思想：</strong> NPSEM-IE 推导的独立性比 FFRCISTG 更强。</li><li><strong>可交换性：</strong><ul><li>NPSEM-IE下：( (Y^{a=0}, Y^{a=1}) \\perp!!!\\perp A )（完全可交换）</li><li>FFRCISTG下：( Y^a \\perp!!!\\perp A )（边际可交换性）</li></ul></li><li>默认情况下，DAG代表“与数据细节一致”的FFRCISTG。</li></ul><hr><h2 id="_6-3-conditional-independence-in-causal-diagrams" tabindex="-1"><a class="header-anchor" href="#_6-3-conditional-independence-in-causal-diagrams"><span>6.3 Conditional Independence in Causal Diagrams</span></a></h2><p><strong>ENGLISH</strong></p><ul><li>Marginal (unconditional) association changes when conditioning on variables.</li><li><strong>General Heuristic Rules:</strong><ul><li>Conditioning on a <strong>mediator</strong> blocks the association between treatment and outcome. <ul><li>Eg: If (A) causes (B), which causes (Y), then (A) and (Y) are independent given (B).</li></ul></li><li>Conditioning on a <strong>common cause</strong> blocks spurious association: <ul><li>If (L) causes both (A) and (Y), conditioning on (L) makes (A \\perp!!!\\perp Y | L ).</li></ul></li><li>Conditioning on a <strong>collider</strong> or its descendant <strong>opens</strong> an otherwise blocked path, producing spurious association: <ul><li>If (A \\to L \\leftarrow Y), then (A \\perp!!!\\perp Y); but ( A \\not\\perp!!!\\perp Y|L ).</li></ul></li></ul></li></ul><p><strong>中文</strong></p><ul><li>边际（无条件）关联在给定其他变量后可能发生变化（条件独立性）。</li><li><strong>一般图解规则：</strong><ul><li>条件在<strong>中介变量</strong>上，阻断了处理与结果间的关联。 <ul><li>如：若 (A\\to B\\to Y)，则有 (A \\perp!!!\\perp Y | B )。</li></ul></li><li>条件在<strong>共同原因</strong>上，阻断伪相关： <ul><li>若 (L) 同时作用于 (A, Y)，则 (A \\perp!!!\\perp Y | L )。</li></ul></li><li>条件在<strong>碰撞点或其后代</strong>上，打开原本被阻断的路径，引入伪相关： <ul><li>如 (A \\to L \\leftarrow Y)，则 (A \\perp!!!\\perp Y)；但 (A \\not\\perp!!!\\perp Y|L)。</li></ul></li></ul></li></ul><hr><h2 id="fine-point-6-1-d-separation" tabindex="-1"><a class="header-anchor" href="#fine-point-6-1-d-separation"><span>Fine Point 6.1: <strong>d-Separation</strong></span></a></h2><p>A <strong>systematic summary of graphical rules</strong> that determine conditional independence:</p><p><strong>ENGLISH</strong><br> A path between two nodes is <strong>blocked</strong> if and only if:</p><ol><li>It contains a <strong>collider</strong> that is <strong>not conditioned on</strong> (nor any of its descendants).</li><li>It contains a <strong>non-collider</strong> node that <strong>has been conditioned on</strong>.</li></ol><p><strong>d-separation Definition:</strong></p><ul><li>Two sets of variables (A) and (B) are d-separated by (C) if <strong>all paths</strong> between a variable in (A) and a variable in (B) are blocked by (C).</li><li><strong>Pearl&#39;s theorem:</strong> The causal Markov assumption implies:<br> If (A) is d-separated from (B) given (C), then (A) is statistically independent of (B) given (C).</li></ul><p><strong>中文</strong><br><strong>d-分离法则：</strong><br> 对于路径，只如果以下成立，则路径“被阻断”：</p><ol><li>路径上存在<strong>碰撞点</strong>，且未对其（或其后代）进行条件限制。</li><li>路径上存在<strong>非碰撞点</strong>，且<strong>对其进行了条件限制</strong>。</li></ol><p><strong>d-分离定义：</strong></p><ul><li>如果变量集A与B之间所有路径都被C阻断，则称A与B在C条件下d-分离。</li><li><strong>Pearl定理：</strong> 如果A与B在C下d-分离，则A与B在C条件下统计独立。</li></ul><hr><h2 id="fine-point-6-2-faithfulness" tabindex="-1"><a class="header-anchor" href="#fine-point-6-2-faithfulness"><span>Fine Point 6.2: <strong>Faithfulness</strong></span></a></h2><p><strong>ENGLISH</strong></p><ul><li><strong>Faithfulness assumption:</strong> If (A \\perp B \\mid C) holds statistically, then (A) is d-separated from (B) by (C) in the DAG.</li><li>Unfaithful distributions can arise e.g. from effect modification with <strong>perfect cancellation</strong> (so average effect is zero but individuals have effects).</li><li>Violated by design in certain matched studies (associational paths cancel).</li><li><strong>In practice, faithfulness is generally assumed</strong> unless deterministic relationships or design cause violations.</li></ul><p><strong>中文</strong></p><ul><li><strong>忠实性假设：</strong> 若(A)在(C)下与(B)统计独立，则在DAG中A与B在C下d-分离。</li><li>不忠实常因交互作用恰好抵消或设计（如匹配研究）产生。</li><li>实务中一般假定忠实性，除非存在确定性关系或实验设计导致违背。</li></ul><hr><h2 id="_6-4-positivity-and-consistency-in-causal-diagrams" tabindex="-1"><a class="header-anchor" href="#_6-4-positivity-and-consistency-in-causal-diagrams"><span>6.4 Positivity and Consistency in Causal Diagrams</span></a></h2><p><strong>ENGLISH</strong></p><ul><li><strong>Positivity:</strong><ul><li>For every possible set of covariates, there is a positive probability of receiving every treatment.</li><li>DAGs <strong>cannot encode most violations of positivity</strong> (except in deterministic cases, depicted by bold arrows).</li></ul></li><li><strong>Consistency:</strong><ul><li>Arrows from treatment to outcome must represent well-defined, unambiguous interventions.</li><li>Interventions must be meaningfully defined; otherwise, &quot;the effect of (A) on (Y)&quot; becomes ambiguous (e.g., &#39;weight loss&#39; by different methods leads to different implications).</li></ul></li></ul><p><strong>中文</strong></p><ul><li><strong>可积极性(positivity)：</strong><ul><li>对于每组协变量，接受所有处理选项的概率都必须大于零。</li><li>DAG通常<strong>无法表达</strong>可积极性被破坏的情形（除非因果关系是确定性的，可以用粗体箭头表示）。</li></ul></li><li><strong>一致性(consistency)：</strong><ul><li>处理到结果的箭头必须代表清晰、明确的干预。</li><li>如果干预不明确，“A对Y的作用”就变得模糊（如：不同方式减重影响不同）。</li></ul></li></ul><hr><h2 id="fine-point-6-3-discovery-of-causal-structure" tabindex="-1"><a class="header-anchor" href="#fine-point-6-3-discovery-of-causal-structure"><span>Fine Point 6.3: <strong>Discovery of Causal Structure</strong></span></a></h2><p><strong>ENGLISH</strong></p><ul><li>Possible to infer causal structure from data <strong>under faithfulness</strong> and with knowledge of time ordering, but often impossible in practice due to equivalence classes of DAGs.</li><li>In some scenarios, conditional independencies and association patterns can allow unique identification (e.g., in chains (Z\\to A\\to Y) with certain associations).</li></ul><p><strong>中文</strong></p><ul><li>如满足忠实性假设且有时序信息，在某些情形下（如三节点链）可通过数据唯一确定部分因果结构。</li><li>但通常，由于等价类DAG的存在，仅凭相关/独立结构难以唯一确定因果结构。</li></ul><hr><h2 id="_6-5-structural-classification-of-bias" tabindex="-1"><a class="header-anchor" href="#_6-5-structural-classification-of-bias"><span>6.5 Structural Classification of Bias</span></a></h2><p><strong>ENGLISH</strong></p><ul><li><p><strong>Systematic bias</strong>: Data do not permit identification of the causal effect even with infinite data.</p></li><li><p><strong>Types of bias</strong> (source by DAG structure):</p><ol><li><strong>Confounding</strong> (common causes): <ul><li>Treatment and outcome share a common cause, association ≠ effect.</li></ul></li><li><strong>Selection bias</strong> (conditioning on common effects): <ul><li>Conditioning on a collider or its descendant generates spurious association.</li></ul></li></ol></li><li><p><strong>Formal definitions:</strong></p><ul><li><strong>Unconditional bias:</strong><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo mathvariant="normal">≠</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\Pr[Y^{a=1}=1] - \\Pr[Y^{a=0}=1] \\neq \\Pr[Y=1|A=1] - \\Pr[Y=1|A=0] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span></span></span></span></span></p> Occurs when ( Y^{a} \\not\\perp!!!\\perp A ).</li><li><strong>Conditional bias:</strong><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo mathvariant="normal">≠</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\Pr[Y^{a=1}=1|L=l] - \\Pr[Y^{a=0}=1|L=l] \\neq \\Pr[Y=1|A=1,L=l] - \\Pr[Y=1|A=0,L=l] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span></span></span></span></span></p> Occurs if ( Y^{a} \\not\\perp!!!\\perp A|L=l ).</li></ul></li></ul><p><strong>中文</strong></p><ul><li><p><strong>系统性偏倚（bias）：</strong> 即使拥有无限大样本，数据依然无法识别因果效应。</p></li><li><p><strong>偏倚分类（按因果结构）：</strong></p><ol><li><strong>混杂（共同原因）：</strong><ul><li>处理与结果有共同原因，导致观测关联≠实际因果效应。</li></ul></li><li><strong>选择偏倚（共同结果/碰撞点）：</strong><ul><li>条件在碰撞点或其后代上，引入伪相关。</li></ul></li></ol></li><li><p><strong>形式化定义：</strong></p><ul><li><strong>无条件偏倚：</strong><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo mathvariant="normal">≠</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\Pr[Y^{a=1}=1] - \\Pr[Y^{a=0}=1] \\neq \\Pr[Y=1|A=1] - \\Pr[Y=1|A=0] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span></span></span></span></span></p> 若( Y^{a} \\not\\perp!!!\\perp A )。</li><li><strong>有条件偏倚：</strong><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><msup><mi>Y</mi><mrow><mi>a</mi><mo>=</mo><mn>0</mn></mrow></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo mathvariant="normal">≠</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo><mo>−</mo><mi>Pr</mi><mo>⁡</mo><mo stretchy="false">[</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>L</mi><mo>=</mo><mi>l</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\Pr[Y^{a=1}=1 | L=l] - \\Pr[Y^{a=0}=1 | L=l] \\neq \\Pr[Y=1 | A=1, L=l] - \\Pr[Y=1 | A=0, L=l] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">Pr</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1∣</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span></span></span></span></span></p> 若( Y^{a} \\not\\perp!!!\\perp A|L=l )。</li></ul></li></ul><hr><h2 id="_6-6-structure-of-effect-modification" tabindex="-1"><a class="header-anchor" href="#_6-6-structure-of-effect-modification"><span>6.6 Structure of Effect Modification</span></a></h2><p><strong>ENGLISH</strong></p><ul><li><strong>Effect modification</strong>: The magnitude or direction of treatment effect varies by levels of a third variable (effect modifier).</li><li><strong>Causal diagrams are less helpful for illustrating modification</strong>, since arrows simply indicate presence of direct effects, not their magnitude or sign.</li><li><strong>Two types of effect modifiers:</strong><ul><li><strong>Causal effect modifier:</strong> Has a direct effect on the outcome.</li><li><strong>Surrogate effect modifier:</strong> Associated with the causal effect modifier (by cause, shared causes, or conditioning).</li></ul></li><li>Causal DAGs distinguish <strong>associations</strong>, but not the type of interaction or the direction of effect modification.</li></ul><p><strong>中文</strong></p><ul><li><strong>效应修饰(effect modification)：</strong> 处理效应的大小或方向随第三变量（效应修饰因子）变化。</li><li><strong>因果图对效应修饰的表达有限</strong>，只表示直接作用的存在，无法表达其方向或大小。</li><li><strong>效应修饰因子的分类：</strong><ul><li><strong>因果修饰因子（causal effect modifier）：</strong> 对结果有直接作用。</li><li><strong>代理修饰因子（surrogate effect modifier）：</strong> 与因果修饰因子有关，可以因果、共同原因或条件化产生关联。</li></ul></li><li>因果DAG可以区分相关，不区分效应修饰的类型或方向。</li></ul><hr><h2 id="summary-table" tabindex="-1"><a class="header-anchor" href="#summary-table"><span><em><strong>Summary Table</strong></em></span></a></h2><table><thead><tr><th>Key Concept (English)</th><th>中文对应术语</th><th>Key Equation / Principle</th></tr></thead><tbody><tr><td>Direct Causal Effect in DAG</td><td>直接因果作用</td><td>Arrow from ( V \\to W ) shows direct effect</td></tr><tr><td>Markov Factorization</td><td>马尔可夫分解</td><td>( f(v) = \\prod_{j=1}^M f(v_j</td></tr><tr><td>Causal Markov Assumption</td><td>因果马尔可夫假设</td><td>Conditional independence on direct causes</td></tr><tr><td>d-separation</td><td>d-分离</td><td>Path blocked: collider not conditioned, or non-collider conditioned</td></tr><tr><td>Faithfulness</td><td>忠实性</td><td>( A\\perp B</td></tr><tr><td>Systematic bias</td><td>系统性偏倚</td><td>( \\Pr[Y^{a=1}=1] - \\Pr[Y^{a=0}=1] \\ne \\Pr[Y=1</td></tr><tr><td>Effect Modification</td><td>效应修饰</td><td>Size/direction of effect varies by modifier variable</td></tr></tbody></table><hr><h2 id="key-takeaways" tabindex="-1"><a class="header-anchor" href="#key-takeaways"><span><em><strong>Key Takeaways</strong></em></span></a></h2><ul><li>Causal DAGs are essential for representing and reasoning about complex causal assumptions.</li><li>The <strong>causal Markov assumption</strong> and <strong>faithfulness</strong> link graphical structure and statistical independence.</li><li><strong>d-separation</strong> provides systematic rules for reading conditional independence from a DAG.</li><li>Systematic bias arises mainly from <strong>confounding</strong> (common causes) and <strong>selection bias</strong> (conditioning on common effects).</li><li><strong>Effect modification</strong> is not encoded in the structure of a DAG, only the existence of direct effects, not their form or variation.</li></ul><hr><p><em>(If you want specific illustrations for key DAGs or more practical examples in each category, please specify!)</em></p>',85)])])}const o=a(l,[["render",i]]),c=JSON.parse(`{"path":"/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/gpt-4.1/Chapter_6.html","title":"Chapter_6","lang":"en-US","frontmatter":{"title":"Chapter_6","category":"Causal inference","tags":["gpt-4.1","response_md"],"description":"Chapter 6: Graphical Representation of Causal Effects 6.1 Causal Diagrams ENGLISH Causal inference often relies on expert knowledge and untestable assumptions about the causal n...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Chapter_6\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-17T03:19:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aaron L\\",\\"url\\":\\"https://aaronlzm.github.io\\",\\"email\\":\\"lzm_aaron@outlook.com\\"}]}"],["meta",{"property":"og:url","content":"https://aaronlzm.github.io/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/gpt-4.1/Chapter_6.html"}],["meta",{"property":"og:site_name","content":"Aaron's Blog"}],["meta",{"property":"og:title","content":"Chapter_6"}],["meta",{"property":"og:description","content":"Chapter 6: Graphical Representation of Causal Effects 6.1 Causal Diagrams ENGLISH Causal inference often relies on expert knowledge and untestable assumptions about the causal n..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-09-17T03:19:05.000Z"}],["meta",{"property":"article:tag","content":"response_md"}],["meta",{"property":"article:tag","content":"gpt-4.1"}],["meta",{"property":"article:modified_time","content":"2025-09-17T03:19:05.000Z"}]]},"git":{"createdTime":1758079145000,"updatedTime":1758079145000,"contributors":[{"name":"lizhimou","username":"lizhimou","email":"lizhimou@bytedance.com","commits":1,"url":"https://github.com/lizhimou"}]},"readingTime":{"minutes":9.89,"words":2966},"filePathRelative":"posts/Causal inference/What-if book reading notes/response_md/gpt-4.1/Chapter_6.md","excerpt":"\\n<h2>6.1 Causal Diagrams</h2>\\n<p><strong>ENGLISH</strong></p>\\n<ul>\\n<li>Causal inference often relies on expert knowledge and untestable assumptions about the causal network connecting variables such as treatment (A), outcome (Y), and covariates (L).</li>\\n<li>As problems get more complex, it becomes crucial to <strong>explicitly represent</strong> our assumptions about causal relationships among variables.</li>\\n<li><strong>Causal diagrams</strong> (also known as Directed Acyclic Graphs, DAGs) are graphical tools to <strong>represent qualitative knowledge</strong> and <strong>assumptions</strong> about causal structure.\\n<ul>\\n<li><strong>Directed:</strong> edges (arrows) have a specific direction, e.g., ( L \\\\to A ).</li>\\n<li><strong>Acyclic:</strong> No cycles allowed (i.e., a node cannot be its own ancestor).</li>\\n</ul>\\n</li>\\n<li><strong>KEY CONVENTION:</strong>\\n<ul>\\n<li>An arrow from (V) to (W) indicates a direct causal effect of (V) on (W).</li>\\n<li>Absence of an arrow means <strong>no direct causal effect</strong> for any individual in the population.</li>\\n<li>The diagram does <strong>not specify</strong> whether effects are harmful or protective, or encode interactions between causes.</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}`);export{o as comp,c as data};
