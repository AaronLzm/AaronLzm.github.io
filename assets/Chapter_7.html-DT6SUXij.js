import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as e,g as n,d as l,f as a,w as s,r as u,b as g}from"./app-DTT-b9WU.js";const p={};function c(d,r){const t=u("think");return g(),o("div",null,[e(t,null,{default:s(()=>[...r[0]||(r[0]=[n(" 我们正在处理《因果推断：What If》第7章“混杂”的内容。本章主要讨论混杂（confounding）的概念、结构、与可交换性的关系、后门准则、混杂调整方法等。由于用户要求提炼所有技术重点和细节要点，并得出清晰结论，同时保留技术术语的英文表述，我们将按章节结构进行总结。 ",-1),l("p",null,"注意：由于文本中提到的图表（如Figure 7.1, 7.2等）无法直接查看，我们将根据文本描述来理解图表内容。文本中包含了多个技术点（Technical Point）和精细点（Fine Point），这些都需要包含在总结中。",-1),l("p",null,[n("本章结构："),l("br"),n(" 7.1 混杂的结构（The structure of confounding）"),l("br"),n(" 7.2 混杂与可交换性（Confounding and exchangeability）"),l("br"),n(" 7.3 混杂与后门准则（Confounding and the backdoor criterion）"),l("br"),n(" 7.4 混杂与混杂因子（Confounding and confounders）"),l("br"),n(" 7.5 单世界干预图（Single-world intervention graphs, SWIGs）"),l("br"),n(" 7.6 混杂调整（Confounding adjustment）")],-1),l("p",null,"此外，还有多个技术点（Technical Point）和精细点（Fine Point）散布在各节中。",-1),l("p",null,"我们将逐一总结每个部分，包括所有技术重点和细节要点，并注意数学公式用LaTeX格式。",-1),l("p",null,"开始总结：",-1)])]),_:1}),r[1]||(r[1]=n(" ### 第7章：混杂（CONFOUNDING）总结 ",-1)),r[2]||(r[2]=l("h4",{id:"_7-1-混杂的结构",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#_7-1-混杂的结构"},[l("span",null,[l("strong",null,"7.1 混杂的结构")])])],-1)),r[3]||(r[3]=l("ul",null,[l("li",null,[l("p",null,[l("strong",null,"技术重点"),n("：")]),l("ul",null,[l("li",null,"混杂（confounding）是由于治疗（treatment）(A)和结局（outcome）(Y)存在共同原因（common cause）导致的偏倚，表现为非因果路径（backdoor path）开放。"),l("li",null,[l("strong",null,"后门路径（backdoor path）"),n("：指从(A)到(Y)的非因果路径，其箭头指向(A)（例如(A \\leftarrow L \\rightarrow Y)）。")]),l("li",null,[n("因果图（causal DAG）表示： "),l("ul",null,[l("li",null,"路径1：(A \\rightarrow Y)（因果效应）。"),l("li",null,"路径2：(A \\leftarrow L \\rightarrow Y)（混杂路径）。")])]),l("li",null,[n("若无共同原因(L)，关联即因果：关联风险比（associational risk ratio）等于因果风险比（causal risk ratio）："),l("br"),n(" ["),l("br"),n(" \\frac{\\Pr[Y=1|A=1]}{\\Pr[Y=1|A=0]} = \\frac{\\Pr[Y"),l("sup",{a:"0"},"{a=1}=1]}{\\Pr[Y"),n("=1]}"),l("br"),n(" ]")]),l("li",null,"存在混杂时，关联风险比 ≠ 因果风险比（association ≠ causation）。")])]),l("li",null,[l("p",null,[l("strong",null,"细节要点"),n("：")]),l("ul",null,[l("li",null,[l("strong",null,"混杂示例"),n("： "),l("ul",null,[l("li",null,[l("strong",null,"职业因素"),n('：消防员工作(A)与死亡风险(Y)的关联被"身体健康"(L)混杂（健康工人偏倚，healthy worker bias）。')]),l("li",null,[l("strong",null,"临床决策"),n("：阿司匹林(A)与中风(Y)的关联被心脏病(L)混杂（适应症混杂，confounding by indication）。")]),l("li",null,[l("strong",null,"生活方式"),n("：运动(A)与死亡(Y)的关联被吸烟(L)混杂（反向因果，reverse causation）。")]),l("li",null,[l("strong",null,"遗传因素"),n("：DNA序列(A)与性状(Y)的关联被连锁不平衡（linkage disequilibrium）混杂。")])])]),l("li",null,"混杂的核心结构：共同原因（如(L)或未测变量(U)）导致后门路径开放。")])])],-1)),r[4]||(r[4]=a('<hr><h4 id="_7-2-混杂与可交换性-exchangeability" tabindex="-1"><a class="header-anchor" href="#_7-2-混杂与可交换性-exchangeability"><span><strong>7.2 混杂与可交换性（exchangeability）</strong></span></a></h4><ul><li><p><strong>技术重点</strong>：</p><ul><li><strong>可交换性定义</strong>： <ul><li>边际可交换性（marginal exchangeability）：(Y^a \\perp!!!\\perp A)（如随机试验）。</li><li>条件可交换性（conditional exchangeability）：(Y^a \\perp!!!\\perp A | L)（需调整(L)）。</li></ul></li><li><strong>识别因果效应</strong>： <ul><li>若(Y^a \\perp!!!\\perp A)，则平均因果效应为：<br> [<br> E[Y^{a=1}] - E[Y^{a=0}] = E[Y|A=1] - E[Y|A=0]<br> ]</li><li>若(Y^a \\perp!!!\\perp A | L)，则需标准化（standardization）或逆概率加权（IP weighting）：<br> [<br> E[Y^{a}] = \\sum_l E[Y|A=a, L=l] \\Pr[L=l]<br> ]</li></ul></li><li><strong>后门准则（backdoor criterion）</strong>： <ul><li>若变量集(L)满足： <ol><li>阻断所有(A)与(Y)间的后门路径。</li><li>(L)不含(A)的后代（descendants）。</li></ol></li><li>则条件可交换性成立：(Y^a \\perp!!!\\perp A | L)（假设FFRCISTG模型和faithfulness）。</li></ul></li></ul></li><li><p><strong>细节要点</strong>：</p><ul><li><strong>无混杂场景</strong>：无共同原因（如边际随机试验），后门路径不存在。</li><li><strong>有混杂但可调整</strong>：存在共同原因，但测量(L)可阻断后门路径（无未测混杂，no unmeasured confounding）。</li><li>后门准则不量化偏倚大小/方向（需敏感性分析）。</li></ul></li></ul><hr><h4 id="_7-3-混杂与后门准则的应用" tabindex="-1"><a class="header-anchor" href="#_7-3-混杂与后门准则的应用"><span><strong>7.3 混杂与后门准则的应用</strong></span></a></h4><ul><li><p><strong>技术重点</strong>：</p><ul><li><strong>后门准则示例</strong>： <ul><li><strong>图7.1</strong>：调整(L)可阻断(A \\leftarrow L \\rightarrow Y)，无未测混杂。</li><li><strong>图7.2-7.3</strong>：未测(U)导致混杂，但调整(L)可阻断路径（(L)为混杂因子）。</li><li><strong>图7.4</strong>：无混杂（后门路径被碰撞点（collider）(L)阻塞），无需调整（调整引入选择偏倚）。</li><li><strong>图7.5</strong>：混杂与选择偏倚并存（调整(L)同时阻断混杂路径但打开新路径）。</li></ul></li><li><strong>混杂因子（confounder）定义</strong>： <ul><li>若数据((A,Y))不足以识别因果效应（需调整(L)），则(L)是混杂因子。</li><li>若((A,Y))可识别效应，则(L)是非混杂因子。</li></ul></li></ul></li><li><p><strong>细节要点</strong>：</p><ul><li><strong>M-偏倚（M-bias）</strong>：图7.4中调整非混杂因子(L)（碰撞点）会打开路径(A \\leftarrow U_2 \\rightarrow L \\leftarrow U_1 \\rightarrow Y)，引入选择偏倚（selection bias）。</li><li><strong>混杂与选择偏倚区别</strong>： <ul><li>混杂：共同原因导致后门路径开放。</li><li>选择偏倚：调整共同结果（common effect）打开路径。</li></ul></li></ul></li></ul><hr><h4 id="_7-4-混杂与混杂因子" tabindex="-1"><a class="header-anchor" href="#_7-4-混杂与混杂因子"><span><strong>7.4 混杂与混杂因子</strong></span></a></h4><ul><li><p><strong>技术重点</strong>：</p><ul><li><strong>传统定义缺陷</strong>：基于关联准则（如(L)与(A)关联、(L)与(Y)关联、(L)不在因果路径）可能导致错误调整（如图7.4调整(L)引入偏倚）。</li><li><strong>结构定义优势</strong>：基于因果图确定混杂因子（需先验知识），避免不一致性。 <ul><li>混杂因子是相对的：取决于已测变量（如未测(U)时(L)是混杂因子；若测(U)则否）。</li></ul></li></ul></li><li><p><strong>细节要点</strong>：</p><ul><li><strong>代理混杂因子（surrogate confounder）</strong>：图7.8中(L)代理未测(U)，调整可部分减少偏倚。</li><li>结构方法要求明确因果图，使假设可被验证/批评。</li></ul></li></ul><hr><h4 id="_7-5-单世界干预图-swigs" tabindex="-1"><a class="header-anchor" href="#_7-5-单世界干预图-swigs"><span><strong>7.5 单世界干预图（SWIGs）</strong></span></a></h4><ul><li><p><strong>技术重点</strong>：</p><ul><li><strong>SWIG原理</strong>：将因果图转换为干预世界（treatment set to (a)）的图，包含反事实变量（如(Y^a)）。</li><li><strong>验证可交换性</strong>： <ul><li>图7.2的SWIG中，(Y^a \\perp!!!\\perp A | L)（给定(L)后路径阻塞）。</li><li>图7.4的SWIG中，(Y^a \\perp!!!\\perp A)成立，但(Y^a \\perp!!!\\perp A | L)不成立（调整(L)打开路径）。</li></ul></li><li><strong>等价性</strong>：后门准则与SWIG的d-分离（d-separation）等价。</li></ul></li><li><p><strong>细节要点</strong>：</p><ul><li>自然治疗值（natural value of treatment）：干预世界中未观察的治疗值(A)。</li><li>SWIG统一反事实与图形方法，直接显示独立性。</li></ul></li></ul><hr><h4 id="_7-6-混杂调整方法" tabindex="-1"><a class="header-anchor" href="#_7-6-混杂调整方法"><span><strong>7.6 混杂调整方法</strong></span></a></h4><ul><li><p><strong>技术重点</strong>：</p><ul><li><strong>G-方法（G-methods）</strong>：利用条件可交换性。 <ul><li>标准化（standardization）与IP加权：模拟无混杂路径的关联（&quot;删除&quot; (L \\rightarrow A)）。</li><li>G-估计（g-estimation）：处理时变混杂。</li></ul></li><li><strong>传统方法</strong>：分层（stratification）、匹配（matching）、倾向评分（propensity score）。 <ul><li>仅估计子群效应，可能引入选择偏倚（时变混杂时无效）。</li></ul></li><li><strong>替代方法</strong>（无需条件可交换性）： <ul><li>双重差分（difference-in-differences）。</li><li>工具变量（instrumental variables）。</li><li>前门准则（front door criterion）：<br> [<br> \\Pr[Y^a=1] = \\sum_m \\Pr[M=m|A=a] \\sum_{a&#39;} \\Pr[Y=1|M=m,A=a&#39;] \\Pr[A=a&#39;]<br> ]</li></ul></li></ul></li><li><p><strong>细节要点</strong>：</p><ul><li><strong>阴性对照（negative controls）</strong>：利用预处理结局(C)（图7.13）量化混杂（Technical Point 7.3）。</li><li><strong>实践建议</strong>： <ul><li>测量非后代变量(L)以逼近条件可交换性。</li><li>避免调整治疗/结局的后代变量。</li><li>敏感性分析评估未测混杂。</li></ul></li></ul></li></ul><hr><h3 id="结论" tabindex="-1"><a class="header-anchor" href="#结论"><span><strong>结论</strong></span></a></h3><ol><li><strong>混杂本质</strong>：由治疗与结局的共同原因导致，表现为开放的后门路径，使关联≠因果。</li><li><strong>可交换性核心</strong>：后门准则（阻断所有后门路径且(L)非后代）等价于条件可交换性。</li><li><strong>混杂因子定义</strong>：需结构视角（非传统关联定义），避免错误调整。</li><li><strong>调整方法</strong>： <ul><li>首选G-方法（标准化/IP加权）处理时变混杂。</li><li>替代方法（如工具变量）需额外假设。</li></ul></li><li><strong>实践挑战</strong>：未测混杂始终存在，需结合因果知识、敏感性分析和阴性对照。</li></ol><blockquote><p><strong>关键警示</strong>：观察性研究中，批评&quot;可能存在混杂&quot;无信息量；需具体指出未测混杂源（如吸烟）并提供解决方案（调整或敏感性分析）。</p></blockquote>',19))])}const f=i(p,[["render",c]]),b=JSON.parse(`{"path":"/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528-1st/Chapter_7.html","title":"Chapter_7","lang":"en-US","frontmatter":{"title":"Chapter_7","category":"Causal inference","tags":["DeepSeek-R1-0528-1st","response_md"],"description":"### 第7章：混杂（CONFOUNDING）总结 7.1 混杂的结构 技术重点： 混杂（confounding）是由于治疗（treatment）(A)和结局（outcome）(Y)存在共同原因（common cause）导致的偏倚，表现为非因果路径（backdoor path）开放。 后门路径（backdoor path）：指从(A)到(Y)的非因果...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Chapter_7\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-17T03:19:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Aaron L\\",\\"url\\":\\"https://aaronlzm.github.io\\",\\"email\\":\\"lzm_aaron@outlook.com\\"}]}"],["meta",{"property":"og:url","content":"https://aaronlzm.github.io/posts/Causal%20inference/What-if%20book%20reading%20notes/response_md/DeepSeek-R1-0528-1st/Chapter_7.html"}],["meta",{"property":"og:site_name","content":"Aaron's Blog"}],["meta",{"property":"og:title","content":"Chapter_7"}],["meta",{"property":"og:description","content":"### 第7章：混杂（CONFOUNDING）总结 7.1 混杂的结构 技术重点： 混杂（confounding）是由于治疗（treatment）(A)和结局（outcome）(Y)存在共同原因（common cause）导致的偏倚，表现为非因果路径（backdoor path）开放。 后门路径（backdoor path）：指从(A)到(Y)的非因果..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-09-17T03:19:05.000Z"}],["meta",{"property":"article:tag","content":"response_md"}],["meta",{"property":"article:tag","content":"DeepSeek-R1-0528-1st"}],["meta",{"property":"article:modified_time","content":"2025-09-17T03:19:05.000Z"}]]},"git":{"createdTime":1758079145000,"updatedTime":1758079145000,"contributors":[{"name":"lizhimou","username":"lizhimou","email":"lizhimou@bytedance.com","commits":1,"url":"https://github.com/lizhimou"}]},"readingTime":{"minutes":6.43,"words":1930},"filePathRelative":"posts/Causal inference/What-if book reading notes/response_md/DeepSeek-R1-0528-1st/Chapter_7.md","excerpt":"\\n### 第7章：混杂（CONFOUNDING）总结\\n<h4><strong>7.1 混杂的结构</strong></h4>\\n<ul>\\n<li>\\n<p><strong>技术重点</strong>：</p>\\n<ul>\\n<li>混杂（confounding）是由于治疗（treatment）(A)和结局（outcome）(Y)存在共同原因（common cause）导致的偏倚，表现为非因果路径（backdoor path）开放。</li>\\n<li><strong>后门路径（backdoor path）</strong>：指从(A)到(Y)的非因果路径，其箭头指向(A)（例如(A \\\\leftarrow L \\\\rightarrow Y)）。</li>\\n<li>因果图（causal DAG）表示：\\n<ul>\\n<li>路径1：(A \\\\rightarrow Y)（因果效应）。</li>\\n<li>路径2：(A \\\\leftarrow L \\\\rightarrow Y)（混杂路径）。</li>\\n</ul>\\n</li>\\n<li>若无共同原因(L)，关联即因果：关联风险比（associational risk ratio）等于因果风险比（causal risk ratio）：<br>\\n[<br>\\n\\\\frac{\\\\Pr[Y=1|A=1]}{\\\\Pr[Y=1|A=0]} = \\\\frac{\\\\Pr[Y<sup a=\\"0\\">{a=1}=1]}{\\\\Pr[Y</sup>=1]}<br>\\n]</li>\\n<li>存在混杂时，关联风险比 ≠ 因果风险比（association ≠ causation）。</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>细节要点</strong>：</p>\\n<ul>\\n<li><strong>混杂示例</strong>：\\n<ul>\\n<li><strong>职业因素</strong>：消防员工作(A)与死亡风险(Y)的关联被\\"身体健康\\"(L)混杂（健康工人偏倚，healthy worker bias）。</li>\\n<li><strong>临床决策</strong>：阿司匹林(A)与中风(Y)的关联被心脏病(L)混杂（适应症混杂，confounding by indication）。</li>\\n<li><strong>生活方式</strong>：运动(A)与死亡(Y)的关联被吸烟(L)混杂（反向因果，reverse causation）。</li>\\n<li><strong>遗传因素</strong>：DNA序列(A)与性状(Y)的关联被连锁不平衡（linkage disequilibrium）混杂。</li>\\n</ul>\\n</li>\\n<li>混杂的核心结构：共同原因（如(L)或未测变量(U)）导致后门路径开放。</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}`);export{f as comp,b as data};
